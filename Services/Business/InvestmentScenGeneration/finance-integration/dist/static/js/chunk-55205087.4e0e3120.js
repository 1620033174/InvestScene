(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55205087"],{3361:function(t,e,a){"use strict";a("6990")},6990:function(t,e,a){},c554:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tool-page-box"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:1===t.page,expression:"page === 1"}],staticClass:"card-container"},[a("el-card",{staticClass:"card"},[a("el-container",[a("el-header",[a("div",{staticClass:"header-text"},[t._v("数据集选择")])]),a("el-main",[a("el-form",{attrs:{"label-width":"140px"}},[a("el-form-item",{attrs:{label:"股票池："}},[a("el-select",{model:{value:t.stockPool,callback:function(e){t.stockPool=e},expression:"stockPool"}},t._l(t.stockPoolOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"回测周期："}},[a("el-select",{model:{value:t.stockYear,callback:function(e){t.stockYear=e},expression:"stockYear"}},t._l(t.stockYearOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"场景主题："}},[a("el-select",{model:{value:t.Theme,callback:function(e){t.Theme=e},expression:"Theme"}},t._l(t.themeOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1)],1),a("el-container",[a("el-header",[a("div",{staticClass:"header-text"},[t._v(" 因子选择 ")])]),a("el-main",[a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"选择因子："}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"}),a("el-cascader",{ref:"xzCascader",attrs:{placeholder:"请选择",options:t.options1,props:{multiple:!0},filterable:"","show-all-levels":!1,"collapse-tags":"","collapse-tags-tooltip":"",clearable:""},on:{change:t.handleMallCatergoryChange},model:{value:t.factorValues,callback:function(e){t.factorValues=e},expression:"factorValues"}})],1)]),a("el-col",{attrs:{span:8}},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleGetTable}},[t._v("生成因子分析")])],1)],1),a("el-form-item",{attrs:{label:"单因子分析："}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData1,height:"460"}},[a("el-table-column",{attrs:{fixed:"left",prop:"factorname",width:"150",label:"因子名称"}}),a("el-table-column",{attrs:{fixed:"left",prop:"missing",width:"120",label:"缺失百分比"}}),a("el-table-column",{attrs:{fixed:"left",prop:"variance",width:"120",label:"方差"}}),a("el-table-column",{attrs:{fixed:"left",prop:"standard_deviation",width:"120",label:"标准差"}}),a("el-table-column",{attrs:{fixed:"left",prop:"correlation",width:"150",label:"与场景主题相关性"}}),a("el-table-column",{attrs:{fixed:"",label:"操作",width:"137"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.HandleShowDetail(e.row)}}},[t._v("查看")])]}}])})],1)],1),a("el-form-item",{attrs:{label:"因子间相关性："}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData2,"max-height":"300"}},[a("el-table-column",{attrs:{fixed:"left",prop:"factorName",width:"150",label:"因子名称"}}),t._l(t.tableFactors,(function(t,e){return a("el-table-column",{key:e,attrs:{prop:t[1],label:t[0]}})}))],2)],1)],1)],1)],1)],1)],1),2===t.page?a("div",{staticClass:"card-container"},[a("el-card",{staticClass:"card"},[a("el-container",[a("el-header",[a("div",{staticClass:"header-text"},[t._v(" 因子详情 ")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableDataDetail,"max-height":"150"}},[a("el-table-column",{attrs:{prop:"factorname",label:"因子名称",width:"200"}}),a("el-table-column",{attrs:{prop:"missing",label:"缺失百分比"}}),a("el-table-column",{attrs:{prop:"variance",label:"方差"}}),a("el-table-column",{attrs:{prop:"standard_deviation",label:"标准差"}}),a("el-table-column",{attrs:{prop:"correlation",label:"与场景主题相关性"}})],1),a("el-main",[a("el-main",[a("facePop",{attrs:{"stock-pool":t.stockPool,"stock-year":t.stockYear,factorname:t.factorname}})],1),a("el-main",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card1"},[a("el-container",[a("el-header",[a("div",{staticClass:"header-text"},[t._v(" 标准差、均值 ")])]),a("el-main",{staticStyle:{width:"100%"}},[a("ICdiagram",{attrs:{"stock-pool":t.stockPool,"stock-year":t.stockYear,factorname:t.factorname,theme:t.Theme}})],1)],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card2"},[a("el-container",[a("el-header",[a("div",{staticClass:"header-text"},[t._v(" 方差 ")])]),a("el-main",[a("turnoverRate",{attrs:{stockPool:t.stockPool,stockYear:t.stockYear,factorname:t.factorname,theme:t.Theme}})],1)],1)],1)],1)],1)],1),a("el-main",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card1"},[a("el-container",[a("el-header",[a("div",{staticClass:"header-text"},[t._v(" 因子值最大的20只股票 ")])]),a("el-main",[a("el-table",{staticStyle:{width:"100%"},attrs:{"max-height":"800",data:t.tableDataMax}},[a("el-table-column",{attrs:{prop:"code",label:"股票代码"}}),a("el-table-column",{attrs:{prop:"stock_name",label:"股票名称"}}),a("el-table-column",{attrs:{prop:"value",label:"因子值"}})],1)],1)],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card1"},[a("el-container",[a("el-header",[a("div",{staticClass:"header-text"},[t._v(" 因子值最小的20只股票 ")])]),a("el-main",[a("el-table",{staticStyle:{width:"100%"},attrs:{"max-height":"800",data:t.tableDataMin}},[a("el-table-column",{attrs:{prop:"code",label:"股票代码"}}),a("el-table-column",{attrs:{prop:"stock_name",label:"股票名称"}}),a("el-table-column",{attrs:{prop:"value",label:"因子值"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1):t._e()])},l=[],n=(a("d3b7"),a("159b"),a("e9c4"),a("b64b"),a("f858")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{width:"100%",height:"250px"},attrs:{id:"toolChart1"}})},s=[],i=a("c7eb"),c=a("1da1"),d={mounted:function(){this.drawLine()},props:{factorname:{type:String,default:"每股营业收入"},stockPool:{type:String,default:"沪深300"},stockYear:{type:String,default:"2020"},Theme:{type:String,default:"行业龙头"}},methods:{drawLine:function(){var t=this;return Object(c["a"])(Object(i["a"])().mark((function e(){var a,o,l,r,s;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["j"])({stockPool:t.stockPool,stockYear:t.stockYear,Theme:t.Theme,factorname:t.factorname});case 2:a=e.sent,o=t.$echarts.init(document.getElementById("toolChart1")),2e4===a.data.code?(l=a.data.data.standard_deviation_list,r=a.data.data.mean_list,s=a.data.data.date_list,o.setOption({title:{text:""},tooltip:{trigger:"axis"},legend:{data:["标准差","均值"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:s},yAxis:{type:"value"},series:[{name:"标准差",type:"line",stack:"Total",data:l,smooth:!0},{name:"均值",type:"line",stack:"Total",data:r,smooth:!0}]})):o.setOption({title:{text:""},tooltip:{trigger:"axis"},legend:{data:["IC","22日移动平均"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{name:"IC",type:"line",stack:"Total",data:[120,132,101,134,90,230,210],smooth:!0},{name:"22日移动平均",type:"line",stack:"Total",data:[220,182,191,234,290,330,310],smooth:!0}]});case 5:case"end":return e.stop()}}),e)})))()}}},u=d,h=a("2877"),f=Object(h["a"])(u,r,s,!1,null,null,null),m=f.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%",height:"250px"},attrs:{id:"toolChart2"}})},b=[],g={mounted:function(){this.drawLine()},props:{factorname:{type:String,default:"每股营业收入"},stockPool:{type:String,default:"沪深300"},stockYear:{type:String,default:"2020"},Theme:{type:String,default:"行业龙头"}},methods:{drawLine:function(){var t=this;return Object(c["a"])(Object(i["a"])().mark((function e(){var a,o,l,r;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["j"])({stockPool:t.stockPool,stockYear:t.stockYear,Theme:t.Theme,factorname:t.factorname});case 2:a=e.sent,o=t.$echarts.init(document.getElementById("toolChart2")),2e4===a.data.code?(l=a.data.data.variance_list,r=a.data.data.date_list,o.setOption({title:{text:""},tooltip:{trigger:"axis"},legend:{data:["方差"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:r},yAxis:{type:"value"},series:[{name:"方差",type:"line",stack:"Total",data:l,smooth:!0}]})):o.setOption({title:{text:""},tooltip:{trigger:"axis"},legend:{data:["IC","22日移动平均"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{name:"IC",type:"line",stack:"Total",data:[120,132,101,134,90,230,210],smooth:!0},{name:"22日移动平均",type:"line",stack:"Total",data:[220,182,191,234,290,330,310],smooth:!0}]});case 5:case"end":return e.stop()}}),e)})))()}}},k=g,v=Object(h["a"])(k,p,b,!1,null,null,null),y=v.exports,x=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticStyle:{width:"850px",height:"400px"},attrs:{id:"factorChart"}})])}],C=a("313e"),O={name:"",data:function(){return{charts:""}},props:{factorname:{type:String,default:"销售净利率"},stockPool:{type:String,default:"沪深300"},stockYear:{type:String,default:"2020"}},methods:{drawLine:function(t){var e=this;return Object(c["a"])(Object(i["a"])().mark((function a(){var o,l,r,s,c,d;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(n["i"])({stockPool:e.stockPool,stockYear:e.stockYear,factorname:e.factorname});case 2:o=a.sent,2e4===o.data.code?(l=o.data.data.min_list,o.data.data.max_list,r=o.data.data.two_list,s=o.data.data.three_list,c=o.data.data.four_list,d=o.data.data.date_list,e.charts=C["init"](document.getElementById(t)),e.charts.setOption({title:{text:" "},tooltip:{trigger:"axis"},legend:{data:["最小分位数","二分位数","三分位数","四分位数"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:d},yAxis:{type:"value"},series:[{name:"最小分位数",type:"line",stack:"Total",data:l},{name:"二分位数",type:"line",stack:"Total",data:r,smooth:!0},{name:"三分位数",type:"line",stack:"Total",data:s,smooth:!0},{name:"四分位数",type:"line",stack:"Total",data:c,smooth:!0}]})):(e.charts=C["init"](document.getElementById(t)),e.charts.setOption({title:{text:" "},tooltip:{trigger:"axis"},legend:{data:["中证500（000905）","最小分位数","二分位数","三分位数","四分位数","最大分位数"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{name:"中证500（000905）",type:"line",stack:"Total",data:[120,132,101,134,90,230,210],smooth:!0},{name:"最小分位数",type:"line",stack:"Total",data:[220,182,191,234,290,330,310]},{name:"二分位数",type:"line",stack:"Total",data:[150,232,201,154,190,330,410],smooth:!0},{name:"三分位数",type:"line",stack:"Total",data:[320,332,301,334,390,330,320],smooth:!0},{name:"四分位数",type:"line",stack:"Total",data:[820,932,901,934,1290,1330,1320],smooth:!0},{name:"最大分位数",type:"line",stack:"Total",data:[820,932,901,934,1290,1330,1320],smooth:!0}]}));case 4:case"end":return a.stop()}}),a)})))()}},mounted:function(){this.$nextTick((function(){this.drawLine("factorChart")}))}},T=O,_=Object(h["a"])(T,x,w,!1,null,"0d90c354",null),j=_.exports,S={data:function(){return{page:1,stockPool:"沪深300",stockYear:"2020",Theme:"行业龙头",radio4:1,radio5:1,input1:"",input2:"",input3:"",input4:"",input5:"",checkList:["选中且禁用","复选框 A"],addStockFackor:!1,checkFactor:!1,dialogVisible:!1,deleteWarning:!1,dialogFormVisible:!1,stockPoolOptions:[{value:"沪深300",label:"沪深300"},{value:"中证500",label:"中证500"},{value:"中证800",label:"中证800"},{value:"中证1000",label:"中证1000"}],stockYearOptions:[{value:"2020",label:"2020"},{value:"2021",label:"2021"},{value:"2022",label:"2022"}],themeOptions:[{value:"行业龙头",label:"行业龙头"},{value:"高股息",label:"高股息"},{value:"高成长",label:"高成长"},{value:"行业龙头高股息",label:"行业龙头高股息"}],tableData1:[],tableData2:[],tableFactors:[],tableDataDetail:[],tableDataMin:[],tableDataMax:[],options1:[],value:"",factors:[],factorname:"每股营业收入",factorValues:[]}},components:{ICdiagram:m,turnoverRate:y,facePop:j},created:function(){this.handleGetFactorsInfo()},methods:{handleGetFactorsInfo:function(){var t=this;console.log("hello"),console.log(this.stockPool),Object(n["d"])().then((function(e){console.log(e.data),t.options1=e.data.data}))},handleMallCatergoryChange:function(){if(0!=this.options1.length){var t=[],e=this.$refs["xzCascader"].getCheckedNodes();console.log(this.$refs["xzCascader"].getCheckedNodes()[0].hasChildren),e.forEach((function(e){0==e.hasChildren&&t.push(e.pathLabels[1])}));for(var a=0;a<t.length;a++)this.factorValues[a][0]=t[a];this.factors=t,console.log(this.factorValues)}},handleGetTable:function(){var t=this;console.log(encodeURIComponent(this.factors)),Object(n["f"])({stockPool:this.stockPool,stockYear:this.stockYear,Theme:this.Theme,factorsname:encodeURIComponent(this.factors)}).then((function(e){console.log(e.data),t.tableData1=e.data.data})),this.tableFactors=JSON.parse(JSON.stringify(this.factorValues)),Object(n["c"])({stockPool:this.stockPool,stockYear:this.stockYear,Theme:this.Theme,factorsname:encodeURIComponent(this.factors)}).then((function(e){for(var a=e.data.data,o=[],l=function(){for(var e=a[n],l={},r=function(t){Object.keys(e[t]).forEach((function(a){l[a]=e[t][a]}))},s=0;s<e.length;s++)r(s);l.factorName=t.factorValues[n][0],o.push(l)},n=0;n<a.length;n++)l();t.tableData2=o}))},HandleShowDetail:function(t){var e=this;this.tableDataDetail=[],this.tableDataDetail.push(t),this.factorname=t.factorname,console.log(this.factorname),this.page=2,Object(n["g"])({stockPool:this.stockPool,factorname:t.factorname}).then((function(t){e.tableDataMax=t.data.data})),Object(n["h"])({stockPool:this.stockPool,factorname:t.factorname}).then((function(t){e.tableDataMin=t.data.data}))},handleClose:function(t){this.$confirm("确认关闭？").then((function(e){t()})).catch((function(t){}))},handleChange:function(t){console.log(this.$refs["options1"].getCheckedNodes()[0].pathLabels)},open1:function(){this.$notify({title:"删除",message:"删除成功",type:"success"})}}},P=S,D=(a("3361"),Object(h["a"])(P,o,l,!1,null,"1f9eaf04",null));e["default"]=D.exports},e9c4:function(t,e,a){var o=a("23e7"),l=a("d066"),n=a("d039"),r=l("JSON","stringify"),s=/[\uD800-\uDFFF]/g,i=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,d=function(t,e,a){var o=a.charAt(e-1),l=a.charAt(e+1);return i.test(t)&&!c.test(l)||c.test(t)&&!i.test(o)?"\\u"+t.charCodeAt(0).toString(16):t},u=n((function(){return'"\\udf06\\ud834"'!==r("\udf06\ud834")||'"\\udead"'!==r("\udead")}));r&&o({target:"JSON",stat:!0,forced:u},{stringify:function(t,e,a){var o=r.apply(null,arguments);return"string"==typeof o?o.replace(s,d):o}})},f858:function(t,e,a){"use strict";a.d(e,"d",(function(){return l})),a.d(e,"f",(function(){return n})),a.d(e,"g",(function(){return s})),a.d(e,"h",(function(){return r})),a.d(e,"j",(function(){return i})),a.d(e,"i",(function(){return c})),a.d(e,"c",(function(){return d})),a.d(e,"k",(function(){return u})),a.d(e,"b",(function(){return h})),a.d(e,"a",(function(){return f})),a.d(e,"e",(function(){return m}));var o=a("b775");function l(t){return Object(o["a"])({url:"/hz/results/getFactorsInfo",method:"get",params:t})}function n(t){return Object(o["a"])({url:"/hz/results/getFactorsData",method:"get",params:t})}function r(t){return Object(o["a"])({url:"/hz/detail/getMin",method:"get",params:t})}function s(t){return Object(o["a"])({url:"/hz/detail/getMax",method:"get",params:t})}function i(t){return Object(o["a"])({url:"/hz/detail/getVariancePic",method:"get",params:t})}function c(t){return Object(o["a"])({url:"/hz/detail/getQuantilePic",method:"get",params:t})}function d(t){return Object(o["a"])({url:"/hz/results/getCorrelationFactors",method:"get",params:t})}function u(t){return Object(o["a"])({url:"/hz/factor/update",method:"post",data:t})}function h(t){return Object(o["a"])({url:"/hz/factor/deleteById/"+t,method:"delete"})}function f(t){return Object(o["a"])({url:"/hz/factor/add",method:"post",data:t})}function m(t){return Object(o["a"])({url:"/hz/factor/getByPage",method:"get",params:t})}}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-377951cc"],{1758:function(e,t,a){"use strict";a("5322")},"22c6":function(e,t,a){},"259b":function(e,t,a){},4884:function(e,t,a){"use strict";a("6249")},5322:function(e,t,a){},6249:function(e,t,a){},"743d":function(e,t,a){"use strict";a("259b")},c2d8:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"manage-scene-box"},[a("h3",[e._v("场景管理")]),a("el-form",{staticClass:"search-form",attrs:{inline:!0,model:e.selectForm}},[a("el-form-item",{attrs:{label:"场景名查询：",prop:"name"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入场景"},on:{blur:e.selectNames},model:{value:e.selectForm.name,callback:function(t){e.$set(e.selectForm,"name",t)},expression:"selectForm.name"}})],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"id",prop:"id",align:"center"}}),a("el-table-column",{attrs:{label:"场景名称",prop:"sceneName",align:"center"}}),a("el-table-column",{attrs:{label:"场景主题",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"medium",type:"success"}},[e._v(e._s(t.row.theme))])]}}])}),a("el-table-column",{attrs:{label:"算法",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.algorithmList,(function(t){return a("div",[a("el-tag",{staticStyle:{margin:"0.25rem"},attrs:{size:"small",type:"warning"}},[e._v(" "+e._s(t.name))]),a("br")],1)}))}}])}),a("el-table-column",{attrs:{label:"场景描述",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.description.substring(0,10)+"...")+" ")]}}])}),a("el-table-column",{attrs:{label:"场景标签",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.tags,(function(t){return a("div",[a("el-tag",{staticStyle:{margin:"0.25rem"},attrs:{size:"small"}},[e._v(" "+e._s(t)+" ")])],1)}))}}])}),a("el-table-column",{attrs:{align:"center","min-width":"200"},scopedSlots:e._u([{key:"header",fn:function(){return[a("el-button",{attrs:{type:"success",icon:"el-icon-plus",plain:""},on:{click:e.clickAdd}},[e._v("创建场景")])]},proxy:!0},{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:"",size:"small",type:"info",icon:"el-icon-data-analysis"},on:{click:function(a){return e.clickPreview(t.$index,t.row)}}},[e._v("查看 ")]),a("el-button",{attrs:{plain:"",size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除 ")])]}}])})],1),a("el-pagination",{staticClass:"pageList",attrs:{"page-sizes":[5,10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.counts,"current-page":e.page},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),a("el-dialog",{attrs:{center:"",visible:e.dialogVisible,"destroy-on-close":"",width:"90%",title:e.dialogTitle},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("SceneCreate",{attrs:{selectScene:e.selectData}})],1),a("el-dialog",{attrs:{center:"",visible:e.previewDialogVisible,fullscreen:"",width:"90%"},on:{"update:visible":function(t){e.previewDialogVisible=t}}},[a("iframe",{staticStyle:{height:"650px",width:"100%"},attrs:{src:"http://localhost:81/portrait/about",id:"inner-frame",name:"inner-frame"}})]),a("el-dialog",{attrs:{width:"80%","append-to-body":"",center:"",title:"画像查看",visible:e.previewTableVisible},on:{"update:visible":function(t){e.previewTableVisible=t}}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.previewTableLoading,expression:"previewTableLoading"}],attrs:{data:e.previewSceneTableData,"max-height":"400"}},[e._l(e.previewSceneTableColumns,(function(e,t){return a("el-table-column",{key:t,attrs:{label:e.label,prop:e.prop}})})),a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:"",size:"small",type:"info",icon:"el-icon-data-analysis"},on:{click:function(a){return e.handlePreview(t.$index,t.row)}}},[e._v("查看 ")])]}}])})],2)],1)])],1)},s=[],l=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"选股算法选择",name:"first"}},[a("choose-algorithm")],1),a("el-tab-pane",{attrs:{label:"静态信息配置",name:"second"}},[a("info-config")],1),a("el-tab-pane",{attrs:{label:"投资场景预览与生成",name:"fifth"}},[a("scene-generation")],1)],1)],1)}),c=[],n=a("2909"),r=a("b85c"),o=(a("4de4"),a("d3b7"),a("caad"),a("2532"),a("7db0"),a("d81d"),a("c740"),a("4e82"),a("5873")),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"formRef",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"投资场景名"}},[a("el-input",{attrs:{placeholder:"请输入投资场景"},model:{value:e.form.sceneName,callback:function(t){e.$set(e.form,"sceneName",t)},expression:"form.sceneName"}})],1),a("el-form-item",{attrs:{label:"投资场景主题"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:"","allow-create":""},model:{value:e.form.theme,callback:function(t){e.$set(e.form,"theme",t)},expression:"form.theme"}},e._l(e.themes,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"投资场景描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{attrs:{label:"投资场景标签"}},[a("el-transfer",{attrs:{data:e.tags,props:{key:"id",label:"name"},titles:["标签列表","已选标签"],filterable:"","render-content":e.renderContent},scopedSlots:e._u([{key:"left-footer",fn:function(){return[a("el-button",{staticStyle:{"margin-left":"29%"},attrs:{type:"primary",size:"mini"},on:{click:e.handleAddTag}},[e._v(" 新增标签 ")])]},proxy:!0},{key:"left",fn:function(t){var i=t.option;return[a("span",[e._v(e._s(i.name))]),a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(t){return t.stopPropagation(),e.handleEditTag(i)}}})]}}]),model:{value:e.tagsValue,callback:function(t){e.tagsValue=t},expression:"tagsValue"}}),a("el-dialog",{attrs:{title:"新增标签","append-to-body":"",visible:e.addTagDialogVisible,width:"30%","before-close":e.handleAddTagDialogClose},on:{"update:visible":function(t){e.addTagDialogVisible=t}}},[a("el-form",{ref:"addTagFormRef",attrs:{model:e.addTagForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标签名称",prop:"name"}},[a("el-input",{model:{value:e.addTagForm.name,callback:function(t){e.$set(e.addTagForm,"name",t)},expression:"addTagForm.name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addTagDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddTagConfirm}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{"append-to-body":"",title:"编辑标签",visible:e.editTagDialogVisible,width:"30%","before-close":e.handleEditTagDialogClose},on:{"update:visible":function(t){e.editTagDialogVisible=t}}},[a("el-form",{ref:"editTagForm",attrs:{model:e.editTagForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"标签名称",prop:"name"}},[a("el-input",{model:{value:e.editTagForm.name,callback:function(t){e.$set(e.editTagForm,"name",t)},expression:"editTagForm.name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editTagDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleEditTagConfirm}},[e._v("确 定")])],1)],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.saveForm}},[e._v("保存")]),a("el-button",{attrs:{type:"primary"},on:{click:e.preview}},[e._v("预览")]),a("el-dialog",{attrs:{title:"静态信息预览",visible:e.staticDialogVisible,width:"50%"},on:{"update:visible":function(t){e.staticDialogVisible=t}}},[a("div",{staticClass:"preview",staticStyle:{"margin-left":"120px"}},[a("h3",{staticStyle:{"align-self":"center"}},[e._v("场景名："+e._s(e.form.name))]),a("p",[e._v("场景主题："+e._s(e.form.theme))]),a("p",[e._v("场景描述： ")]),a("div",{domProps:{innerHTML:e._s(e.form.description)}}),a("p"),a("p",[e._v("场景标签： "),e._l(e.selectedTags,(function(t){return a("el-tag",{key:t.id},[e._v(e._s(t.name))])}))],2)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.staticDialogVisible=!1}}},[e._v("关闭")])],1)])],1)],1)],1)},h=[],p=a("5530"),u=(a("159b"),a("4360")),m={data:function(){return{themes:[{value:"科技",label:"科技"},{value:"金融",label:"金融"},{value:"教育",label:"教育"},{value:"医疗",label:"医疗"}],tags:[{id:1,name:"创新"},{id:2,name:"高效"},{id:3,name:"可靠"},{id:4,name:"安全"}],tagsValue:[],selectedTags:[],addTagDialogVisible:!1,addTagForm:{name:""},editTagDialogVisible:!1,editTagForm:{name:""},form:{sceneName:"",theme:"",description:"",tags:[]},staticDialogVisible:!1}},methods:{handleChange:function(e,t,a){this.selectedTags=e},handleAddTag:function(){this.addTagDialogVisible=!0},handleAddTagDialogClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},handleAddTagConfirm:function(){var e=this;this.$refs.addTagForm.validate((function(t){t&&(e.tags.push({id:e.tags.length+1,name:e.addTagForm.name}),e.addTagDialogVisible=!1,e.$message({type:"success",message:"新增成功"}))}))},handleEditTag:function(e){this.editTagForm.name=e.name,this.editTagDialogVisible=!0},handleEditTagDialogClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},handleEditTagConfirm:function(){var e=this;this.$refs.editTagForm.validate((function(t){t&&(e.tags=e.tags.map((function(t){return t.id===e.selectedTags[0].id?Object(p["a"])(Object(p["a"])({},t),{},{name:e.editTagForm.name}):t})),e.editTagDialogVisible=!1,e.$message({type:"success",message:"编辑成功"}))}))},renderContent:function(e,t){var a=this;return e("span",[t.name,e("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(e){e.stopPropagation(),a.handleEditTag(t)}}})])},saveForm:function(){var e=this;this.$refs["formRef"].validate((function(t){t&&(console.log(e.tagsValue),e.tags.forEach((function(t){e.tagsValue.forEach((function(a){t.id===a&&e.form.tags.push(t)}))})),u["a"].commit("scene/SET_SCENE",e.form),e.$message({type:"success",message:"保存成功"}))}))},preview:function(){this.staticDialogVisible=!0}}},f=m,g=a("2877"),b=Object(g["a"])(f,d,h,!1,null,"21b722bd",null),v=b.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"preview",staticStyle:{"margin-left":"30px"}},[a("h3",{staticStyle:{"align-self":"center"}},[e._v("场景名："+e._s(e.form.sceneName))]),a("p",[e._v("场景主题："+e._s(e.form.theme))]),a("p",[e._v("场景描述： ")]),a("div",{domProps:{innerHTML:e._s(e.form.description)}}),a("p"),a("p",[e._v("场景标签： "),e._l(e.form.tags,(function(t,i){return a("el-tag",{key:i},[e._v(e._s(t.name))])}))],2)]),a("div",{staticStyle:{"margin-left":"30px"}},[a("p",[e._v("入选股票池：")]),e._l(e.stockTableData,(function(t,i){return a("div",{key:i,staticClass:"table"},[a("h3",[e._v(e._s(e.selectedAlgorithms[i].name)+"股票池：")]),a("el-table",{staticStyle:{width:"100%"},attrs:{"max-height":"400",data:t.rows,border:""}},e._l(t.columns,(function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.prop,label:e.label}})})),1)],1)}))],2),a("div",{staticStyle:{"text-align":"center","margin-top":"30px"}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.publish}},[e._v("生成场景并发布")])],1)])},k=[],w=a("b775"),_=function(e){return Object(w["a"])({url:"/scene/getByPage",method:"get",params:e})},x=function(e){return Object(w["a"])({url:"/scene/add",method:"post",data:e})},S=function(e){return Object(w["a"])({url:"/scene/getById/"+e,method:"get"})},D=function(e){return Object(w["a"])({url:"/scene/deleteById/"+e,method:"delete"})};function T(e){return Object(w["a"])({url:"/scene/getStockDataById",method:"get",params:e})}function C(e){return Object(w["a"])({url:"/scene/showStock",method:"get",params:e})}var $={data:function(){return{}},computed:{form:function(){return this.$store.state.scene.scene},pictureList:function(){var e=[];return this.$store.state.scene.pictureList.forEach((function(t){t.checked&&e.push(t)})),console.log(e),e},stockTableData:function(){return this.$store.state.scene.stockTableData},selectedAlgorithms:function(){return this.$store.state.scene.selectedAlgorithms},stockList:function(){var e=[];return this.$store.state.scene.stockTableData.forEach((function(t){t.rows.forEach((function(t){e.push(t.code)}))})),e},date:function(){return this.$store.state.scene.date}},methods:{publish:function(){var e=this;this.$confirm("确认发布？").then((function(t){var a=[];0!==e.form.tags.length?(e.form.tags.forEach((function(e){a.push(e.name)})),e.form.tags=a,0!==e.selectedAlgorithms.length?x(Object(p["a"])(Object(p["a"])({},e.form),{},{algorithmList:e.selectedAlgorithms,pictureList:e.pictureList,date:e.date,stockList:e.stockList})).then((function(t){2e4!==t.data.code?e.$message({type:"error",message:"发布失败"}):(e.$store.dispatch("scene/setDialogVisible",!1),e.$message({type:"success",message:"发布成功"}),e.$store.dispatch("scene/setScene",{}),e.$store.dispatch("scene/setPictureList",[]),e.$store.dispatch("scene/setStockTableData",[]),e.$store.dispatch("scene/setSelectedAlgorithms",[]))})):e.$message.warning("请至少选择一个算法")):e.$message.warning("请至少选择一个标签")})).catch((function(e){}))}}},A=$,O=Object(g["a"])(A,y,k,!1,null,"2de88cff",null),V=O.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app",staticStyle:{"margin-left":"30px"}},[a("div",{staticClass:"container1"},[a("div",{staticClass:"left"},[a("div",{staticClass:"search"},[a("el-input",{staticStyle:{display:"inline-block",width:"80%"},attrs:{placeholder:"请输入选股算法名或id"},on:{change:e.checkReset},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),a("el-button",{staticStyle:{display:"inline-block"},attrs:{type:"primary"},on:{click:e.search}},[e._v(" 搜索 ")])],1),a("div",{staticClass:"list",staticStyle:{"text-align":"center"}},[a("el-table",{ref:"algorithmTable",attrs:{data:e.algorithms,"max-height":"400"},on:{"selection-change":e.selectAlgorithm}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"id",label:"算法id"}}),a("el-table-column",{attrs:{prop:"name",label:"算法名"}})],1)],1)]),a("div",{staticClass:"right"},[a("el-card",{staticStyle:{"margin-left":"30%","margin-top":"10%",width:"70%"}},[a("span",[e._v("选股日期：")]),a("el-select",{attrs:{size:"small"},on:{change:e.dateChange},model:{value:e.chooseDate,callback:function(t){e.chooseDate=t},expression:"chooseDate"}},[a("el-option",{attrs:{label:"2020",value:"2020"}}),a("el-option",{attrs:{label:"2021",value:"2021"}}),a("el-option",{attrs:{label:"2022",value:"2022"}})],1)],1),e.selectedAlgorithm?a("el-card",{staticStyle:{"margin-left":"30%",width:"70%"},attrs:{header:"选择的算法"}},[a("p",{staticStyle:{"font-weight":"100"}},[e._v("算法id: "+e._s(e.selectedAlgorithm.id))]),a("p",{staticStyle:{"font-weight":"100"}},[e._v("算法名称："+e._s(e.selectedAlgorithm.name))]),a("p",{staticStyle:{"font-weight":"100"}},[e._v("选股逻辑: "+e._s(e.selectedAlgorithm.logicDescription))]),a("p",{staticStyle:{"font-weight":"100"}},[e._v("算法详细信息: "+e._s(e.selectedAlgorithm.algorithmDescription))])]):e._e()],1)]),e._l(e.stockTableData,(function(t,i){return a("div",{staticClass:"table-list"},[a("h3",[e._v(e._s(e.selectedAlgorithms[i].name)+"股票池")]),a("el-table",{staticStyle:{width:"90%",margin:"0.5rem"},attrs:{"max-height":"400",data:t.rows,border:""}},e._l(t.columns,(function(e){return a("el-table-column",{key:e.id,attrs:{prop:e.prop,label:e.label,sortable:""}})})),1)],1)}))],2)},F=[],z=a("e57a"),j={data:function(){return{keyword:"",algorithms:[{name:"低估值高增长",id:"1",logic:"选取市盈率低于行业平均水平，且营业收入增长率高于行业平均水平的股票",info:"该算法基于价值投资的理念，寻找被市场低估，但具有较强成长性的股票，适合中长期持有"},{name:"高分红稳健",id:"2",logic:"选取股息率高于行业平均水平，且净利润增长率稳定的股票",info:"该算法基于收益投资的理念，寻找能够持续分红，且业绩稳健的股票，适合长期持有"},{name:"低波动低换手",id:"3",logic:"选取波动率低于行业平均水平，且换手率低于行业平均水平的股票",info:"该算法基于低风险投资的理念，寻找市场波动小，且不受热钱影响的股票，适合短期持有"}],selectedAlgorithm:{},selectedAlgorithms:[],stockTableData:[],chooseDate:"2020",stocks:[{name:"股票A",code:"000001",factor1:.8,factor2:.6,factor3:.7},{name:"股票B",code:"000002",factor1:.9,factor2:.5,factor3:.8},{name:"股票C",code:"000003",factor1:.7,factor2:.7,factor3:.6}],factors:[]}},mounted:function(){var e=this;Object(z["j"])({name:this.keyword}).then((function(t){e.algorithms=t.data.data}))},methods:{search:function(){var e=this;Object(z["j"])({name:this.keyword}).then((function(t){e.algorithms=t.data.data}))},selectAlgorithm:function(e){var t=this;return e.length>3?(this.limitFn(e),void this.$message.warning("最多只能选择三个算法")):0===e.length?(this.selectedAlgorithms=[],this.selectedAlgorithm={},void(this.stockTableData=[])):(this.selectedAlgorithms=e,this.selectedAlgorithm=e[e.length-1],this.stockTableData=[],this.selectedAlgorithms.forEach((function(e){T({id:e.id,date:t.chooseDate}).then((function(e){t.stockTableData.push(e.data.data.data)}))})),this.$store.dispatch("scene/setStockTableData",this.stockTableData),this.$store.dispatch("scene/setSelectedAlgorithms",this.selectedAlgorithms),void console.log(this.stockTableData))},limitFn:function(e){this.$refs.algorithmTable.toggleRowSelection(e[e.length-1],!1)},dateChange:function(){var e=this;this.stockTableData=[],this.selectedAlgorithms.forEach((function(t){T({id:t.id,date:e.chooseDate}).then((function(t){e.stockTableData.push(t.data.data.data)}))})),this.$store.dispatch("scene/setStockTableData",this.stockTableData),this.$store.dispatch("scene/setSelectedAlgorithms",this.selectedAlgorithms),this.$store.dispatch("scene/Date",this.chooseDate)}}},P=j,N=(a("1758"),Object(g["a"])(P,E,F,!1,null,"f2dda81e",null)),L=N.exports,R=a("313e"),B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.cur,expression:"cur==0"}]},[a("div",[a("el-row",{attrs:{gutter:"5"}},[a("el-col",{staticStyle:{height:"500px"},attrs:{span:"6"}},[a("el-card",{staticStyle:{height:"100%"}},[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("今日评价")]),a("el-checkbox",{staticClass:"card-checkbox",on:{change:e.changeChosenPictures},model:{value:e.pictures[0].checked,callback:function(t){e.$set(e.pictures[0],"checked",t)},expression:"pictures[0].checked"}})],1),a("div",{staticStyle:{"text-align":"center"}},[a("el-progress",{staticStyle:{"margin-top":"50PX"},attrs:{type:"dashboard",percentage:e.percentage,color:e.colors}}),a("p",{staticStyle:{"font-size":"20px","margin-top":"20px"}},[e._v("打败了"),a("span",{staticStyle:{color:"red"}},[e._v("97.5%")]),e._v("的股票 ")]),a("p",[e._v("次日涨幅率"),a("span",{staticStyle:{color:"red"}},[e._v("45.15%")])]),a("p",[a("span",{staticStyle:{"font-size":"15px"}},[e._v("操作建议：近期消息面一般，主力资金有接入迹象，短期呈现震荡趋势，市场关注意愿一般")])])],1)])],1),a("el-col",{attrs:{span:"10"}},[a("el-card",{staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("涨跌预测")]),a("el-checkbox",{staticClass:"card-checkbox",model:{value:e.pictures[1].checked,callback:function(t){e.$set(e.pictures[1],"checked",t)},expression:"pictures[1].checked"}})],1),a("div",[a("span",{staticStyle:{"font-size":"25px","margin-right":"40px"}},[e._v("次日：")]),e._v(" 上涨概率"),a("span",{staticStyle:{color:"red","margin-right":"15px"}},[e._v("45.5% ")]),e._v(" 平均涨幅 "),a("span",{staticStyle:{color:"red"}},[e._v("0.15%")]),a("el-divider"),a("span",{staticStyle:{"font-size":"25px","margin-right":"40px"}},[e._v("后日：")]),e._v(" 上涨概率"),a("span",{staticStyle:{color:"red","margin-right":"15px"}},[e._v("45.5% ")]),e._v(" 平均涨幅 "),a("span",{staticStyle:{color:"red"}},[e._v("0.15%")])],1)]),a("el-card",[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("股价预测")]),a("el-checkbox",{staticClass:"card-checkbox",on:{change:e.changeChosenPictures},model:{value:e.pictures[2].checked,callback:function(t){e.$set(e.pictures[2],"checked",t)},expression:"pictures[2].checked"}})],1),a("div",{staticClass:"echart",style:e.sharePriceChartStyle,attrs:{id:"sharePriceChart"}})])],1),a("el-col",{attrs:{span:"8"}},[a("el-card",[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("个股综合排名")]),a("el-checkbox",{staticClass:"card-checkbox",model:{value:e.pictures[3].checked,callback:function(t){e.$set(e.pictures[3],"checked",t)},expression:"pictures[3].checked"}})],1),a("div",[a("el-tag",[e._v(" 行业内 ")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.intraTableData,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"排名"}}),a("el-table-column",{attrs:{prop:"name",label:"股票名"}}),a("el-table-column",{attrs:{prop:"grade",label:"综合评分"}}),a("el-table-column",{attrs:{prop:"change",label:"变动趋势"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{style:{color:"red"}},[e._v(e._s(i.change))])]}}])})],1),a("el-divider"),a("el-tag",{attrs:{type:"danger"}},[e._v(" 全行业 ")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.intraTableData,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"排名"}}),a("el-table-column",{attrs:{prop:"name",label:"股票名"}}),a("el-table-column",{attrs:{prop:"grade",label:"综合评分"}}),a("el-table-column",{attrs:{prop:"change",label:"变动趋势"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{style:{color:"red"}},[e._v(e._s(i.change))])]}}])})],1)],1)])],1)],1)],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.cur,expression:"cur==0"}]},[e._m(0),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.historyData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"股票名称",width:"180"}}),a("el-table-column",{attrs:{prop:"code",label:"股票代码",width:"180"}}),a("el-table-column",{attrs:{prop:"similarity",label:"相似度",sortable:""}}),a("el-table-column",{attrs:{prop:"eps",label:"每股收益",sortable:""}}),a("el-table-column",{attrs:{prop:"cfps",label:"每股现金流",sortable:""}}),a("el-table-column",{attrs:{prop:"capf",label:"每股公积金",sortable:""}}),a("el-table-column",{attrs:{prop:"undp",label:"每股未分配利润",sortable:""}}),a("el-table-column",{attrs:{prop:"capi",label:"流通股本",sortable:""}}),a("el-table-column",{attrs:{prop:"cmv",label:"流通市值",sortable:""}}),a("el-table-column",{scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-checkbox",{staticClass:"card-checkbox",on:{change:e.changeChosenPictures},model:{value:e.pictures[4].checked,callback:function(t){e.$set(e.pictures[4],"checked",t)},expression:"pictures[4].checked"}})]}}])})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.cur,expression:"cur==0"}]},[a("div",[a("el-tag",{staticStyle:{"font-size":"20px"}},[e._v("场景相关相似个股")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.otherData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"股票名称",width:"180"}}),a("el-table-column",{attrs:{prop:"code",label:"股票代码",width:"180"}}),a("el-table-column",{attrs:{prop:"similarity",label:"相似度",sortable:""}}),a("el-table-column",{attrs:{prop:"eps",label:"每股收益",sortable:""}}),a("el-table-column",{attrs:{prop:"cfps",label:"每股现金流",sortable:""}}),a("el-table-column",{attrs:{prop:"capf",label:"每股公积金",sortable:""}}),a("el-table-column",{attrs:{prop:"undp",label:"每股未分配利润",sortable:""}}),a("el-table-column",{attrs:{prop:"capi",label:"流通股本",sortable:""}}),a("el-table-column",{attrs:{prop:"cmv",label:"流通市值",sortable:""}}),a("el-table-column",{scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-checkbox",{staticClass:"card-checkbox",on:{change:e.changeChosenPictures},model:{value:e.pictures[5].checked,callback:function(t){e.$set(e.pictures[5],"checked",t)},expression:"pictures[5].checked"}})]}}])})],1),a("el-tag",{staticStyle:{"font-size":"20px"}},[e._v("场景无关相似个股")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.otherData0,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"股票名称",width:"180"}}),a("el-table-column",{attrs:{prop:"code",label:"股票代码",width:"180"}}),a("el-table-column",{attrs:{prop:"similarity",label:"相似度",sortable:""}}),a("el-table-column",{attrs:{prop:"eps",label:"每股收益",sortable:""}}),a("el-table-column",{attrs:{prop:"cfps",label:"每股现金流",sortable:""}}),a("el-table-column",{attrs:{prop:"capf",label:"每股公积金",sortable:""}}),a("el-table-column",{attrs:{prop:"undp",label:"每股未分配利润",sortable:""}}),a("el-table-column",{attrs:{prop:"capi",label:"流通股本",sortable:""}}),a("el-table-column",{attrs:{prop:"cmv",label:"流通市值",sortable:""}}),a("el-table-column",{scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-checkbox",{staticClass:"card-checkbox",on:{change:e.changeChosenPictures},model:{value:e.pictures[6].checked,callback:function(t){e.$set(e.pictures[6],"checked",t)},expression:"pictures[6].checked"}})]}}])})],1)],1)])])},I=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"center"}},[a("p",[e._v("历史最相似时刻：2021/12/08 相似度："),a("span",{staticStyle:{color:"red"}},[e._v("95.13%")])])])}],H={data:function(){return{chosenPictures:[],cur:0,percentage:97.5,pictures:[{id:1,name:"今日评价",checked:!1},{id:2,name:"涨跌预测",checked:!1},{id:3,name:"股价预测",checked:!1},{id:4,name:"个股综合排名",checked:!1},{id:5,name:"历史最相似时刻",checked:!1},{id:6,name:"场景相关相似个股",checked:!1},{id:7,name:"场景无关相似个股",checked:!1}],sharePriceChartStyle:{float:"left",width:"500px",height:"400px"},xData:["最低目标价","最高目标价","目标均价","当前价"],yData:[23,24,18,22],colors:[{color:"#EE0000",percentage:100}],intraTableData:[{id:"1",name:"东方财富",grade:"95",change:"+0.95%"},{id:"2",name:"中科创达",grade:"92",change:"+0.82%"},{id:"3",name:"宝信软件",grade:"87",change:"+0.65%"}],newsData:[{time:"03-04",desc:"本公司研发自主独立技术"},{time:"03-04",desc:"本公司研发自主独立技术"},{time:"03-04",desc:"本公司研发自主独立技术"}],historyData:[{name:"平安银行",code:"000001",similarity:.95,eps:1.23,cfps:1.56,capf:.78,undp:.45,capi:174.32,cmv:285.67}],otherData:[{name:"平安银行",code:"000001",similarity:.95,eps:1.23,cfps:1.56,capf:.78,undp:.45,capi:174.32,cmv:285.67},{name:"万科A",code:"000002",similarity:.92,eps:2.34,cfps:2.89,capf:1.23,undp:.67,capi:113.45,cmv:198.76},{name:"国农科技",code:"000004",similarity:.88,eps:-.12,cfps:-.34,capf:-.56,undp:-.89,capi:12.34,cmv:9.87}],otherData0:[{name:"退市中新",code:"603996",similarity:.4,eps:-.42,cfps:-.03,capf:1.86,undp:-10.69,capi:3,cmv:9.87},{name:"赫美集团",code:"002356",similarity:.39,eps:-.12,cfps:.02,capf:1.5,undp:-6.17,capi:5.27,cmv:6.21},{name:"退市拉夏",code:"603157",similarity:.35,eps:-.14,cfps:-.19,capf:3.49,undp:-4.01,capi:1.46,cmv:3.02}],chartOptions:{title:{text:"柱形图示例"},tooltip:{},legend:{data:[]},xAxis:{data:["每股收益","每股公积金","每股未分配利润"]},yAxis:{},series:[]},chartData:{"行业均值":[5,20,36],"行业中值":[6,15,25],"行业四分位":[4,18,32],"行业排名":[1,3,2]}}},mounted:function(){this.initEcharts(),this.initChart(),this.updateChart()},methods:{changeChosenPictures:function(){var e=this;this.pictures.forEach((function(t){t.checked&&e.chosenPictures.push(t)})),this.$store.dispatch("scene/setPictureList",this.chosenPictures)},initChart:function(){this.chart=R["init"](this.$refs.echart),this.chart.setOption(this.chartOptions)},updateChart:function(){var e,t=[],a=[],i=Object(r["a"])(this.checkedValues);try{for(i.s();!(e=i.n()).done;){var s=e.value;a.push(s),t.push({name:s,type:"bar",data:this.chartData[s]})}}catch(l){i.e(l)}finally{i.f()}this.chartOptions.legend.data=a,this.chartOptions.series=t,this.chart.setOption(this.chartOptions,!0)},initEcharts:function(){var e={xAxis:{data:this.xData},yAxis:{},series:[{type:"bar",data:this.yData}]},t=R["init"](document.getElementById("sharePriceChart"));t.setOption(e)}}},M=H,X=(a("4884"),Object(g["a"])(M,B,I,!1,null,"08e4f3d4",null)),Z=X.exports,J={components:{VueEditor:o["a"],infoConfig:v,sceneGeneration:V,chooseAlgorithm:L,portraitConfig:Z},props:{selectScene:{type:Object,default:{}}},data:function(){return{tabTitle:["综合评价与区间预测","场景相关基础信息","股票自身历史经验","其他个股相似经验"],cur:0,tabTitle0:["选股算法选择","静态信息配置","个股画像配置","增值服务配置","投资场景预览与生成"],cur0:0,xData:["最低目标价","最高目标价","目标均价","当前价"],yData:[23,24,18,22],sharePriceChartStyle:{float:"left",width:"600px",height:"400px"},chart1:null,dialogVisible:!1,selectedAlgorithm:{},selectedAlgorithm1:"1",factors:[],stocks:[],activeName:"first",activeName1:"third-1",activeName2:"third-4-1",radioValue:"综合评价与区间预测",percentage:97.5,colors:[{color:"#EE0000",percentage:100}],form:{name:"",theme:"",description:"",tags:[]},factorData:[{price:"6.901",name:"每股收益(元)",grade:"1|10",checked:!1},{price:"31.325",name:"每股未分配利润(元)",grade:"1|10",checked:!1},{price:"5.374",name:"每股现金流(元)",grade:"3|10",checked:!1},{price:"1.02",name:"流通股本(亿元)",grade:"1|10",checked:!1},{price:"5.610",name:"每股公积金(元)",grade:"6|10",checked:!1},{price:"57.00",name:"流通市值(亿元)",grade:"2|10",checked:!1}],intraTableData:[{id:"1",name:"东方财富",grade:"95",change:"+0.95%"},{id:"2",name:"中科创达",grade:"92",change:"+0.82%"},{id:"3",name:"宝信软件",grade:"87",change:"+0.65%"}],themes:[{value:"科技",label:"科技"},{value:"金融",label:"金融"},{value:"教育",label:"教育"},{value:"医疗",label:"医疗"}],tags:[{id:1,name:"创新"},{id:2,name:"高效"},{id:3,name:"可靠"},{id:4,name:"安全"}],otherData:[{name:"平安银行",code:"000001",similarity:.95,eps:1.23,cfps:1.56,capf:.78,undp:.45,capi:174.32,cmv:285.67},{name:"万科A",code:"000002",similarity:.92,eps:2.34,cfps:2.89,capf:1.23,undp:.67,capi:113.45,cmv:198.76},{name:"国农科技",code:"000004",similarity:.88,eps:-.12,cfps:-.34,capf:-.56,undp:-.89,capi:12.34,cmv:9.87}],otherData0:[{name:"退市中新",code:"603996",similarity:.4,eps:-.42,cfps:-.03,capf:1.86,undp:-10.69,capi:3,cmv:9.87},{name:"赫美集团",code:"002356",similarity:.39,eps:-.12,cfps:.02,capf:1.5,undp:-6.17,capi:5.27,cmv:6.21},{name:"退市拉夏",code:"603157",similarity:.35,eps:-.14,cfps:-.19,capf:3.49,undp:-4.01,capi:1.46,cmv:3.02}],tagsValue:[],addTagDialogVisible:!1,addTagForm:{name:""},editTagDialogVisible:!1,editTagForm:{id:"",name:""},staticDialogVisible:!1,dialogVisible1:!1,options:[{value:"选项1",label:"高送转"},{value:"选项2",label:"送转高"},{value:"选项3",label:"送高转"},{value:"选项4",label:"转送高"},{value:"选项5",label:"高转送"}],static:{sceneName:"",sceneTheme:"",sceneDesc:"",sceneTable:""},data:[{key:1,label:"备选项1"},{key:2,label:"备选项2"},{key:3,label:"备选项3"},{key:4,label:"备选项4"},{key:5,label:"备选项5"}],newsData:[{time:"03-04",desc:"本公司研发自主独立技术"},{time:"03-04",desc:"本公司研发自主独立技术"},{time:"03-04",desc:"本公司研发自主独立技术"}],selectedRows:[],algorithms:[{name:"低估值高增长",id:"1",logic:"选取市盈率低于行业平均水平，且营业收入增长率高于行业平均水平的股票",info:"该算法基于价值投资的理念，寻找被市场低估，但具有较强成长性的股票，适合中长期持有"},{name:"高分红稳健",id:"2",logic:"选取股息率高于行业平均水平，且净利润增长率稳定的股票",info:"该算法基于收益投资的理念，寻找能够持续分红，且业绩稳健的股票，适合长期持有"},{name:"低波动低换手",id:"3",logic:"选取波动率低于行业平均水平，且换手率低于行业平均水平的股票",info:"该算法基于低风险投资的理念，寻找市场波动小，且不受热钱影响的股票，适合短期持有"}],checkList:["复选框 A"],info:"",factor:"",logic:"",id:"",label:"",selectedAlgorithm2:null,shareData:[],sortFactor:null,sortOrder:null,value:"",checkedRowsService:[],checkedRowsShare:[],checkedRowsFactor:[],rowData:[],keyword:"",checkedValues:["行业均值","行业中值"],chart:null,chartOptions:{title:{text:"柱形图示例"},tooltip:{},legend:{data:[]},xAxis:{data:["每股收益","每股公积金","每股未分配利润"]},yAxis:{},series:[]},chartData:{"行业均值":[5,20,36],"行业中值":[6,15,25],"行业四分位":[4,18,32],"行业排名":[1,3,2]}}},mounted:function(){this.initEcharts(),this.selectedAlgorithm=this.algorithm[0],this.initChart(),this.updateChart()},computed:{selectedTags:function(){var e=this;return this.tags.filter((function(t){return e.tagsValue.includes(t.id)}))}},watch:{value:function(e){var t=this.algorithm.find((function(t){return t.value===e}));t?(this.info=t.info,this.id=t.id,this.label=t.label,this.logic=t.logic):(this.info="",this.id="",this.label="",this.logic="")}},methods:{initChart:function(){this.chart=R["init"](this.$refs.echart),this.chart.setOption(this.chartOptions)},updateChart:function(){var e,t=[],a=[],i=Object(r["a"])(this.checkedValues);try{for(i.s();!(e=i.n()).done;){var s=e.value;a.push(s),t.push({name:s,type:"bar",data:this.chartData[s]})}}catch(l){i.e(l)}finally{i.f()}this.chartOptions.legend.data=a,this.chartOptions.series=t,this.chart.setOption(this.chartOptions,!0)},initEcharts:function(){var e={xAxis:{data:this.xData},yAxis:{},series:[{type:"bar",data:this.yData}]},t=R["init"](document.getElementById("sharePriceChart"));t.setOption(e)},handleClickShare:function(e){this.dialogVisible=!0},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},handleSelectionChange:function(e,t){this.listSelect=e,this.listSelectId=e.map((function(e){return e.code}))},handleCheckService:function(e){e.checked?this.checkedRowsService.push(e):this.checkedRowsService=this.checkedRowsService.filter((function(t){return t!==e}))},preview:function(){this.staticDialogVisible=!0},handleCheckShare:function(e){e.checked?this.checkedRowsShare.push(e):this.checkedRowsShare=this.checkedRowsShare.filter((function(t){return t!==e}))},handleCheckFactor:function(e){e.checked?this.checkedRowsFactor.push(e):this.checkedRowsFactor=this.checkedRowsFactor.filter((function(t){return t!==e}))},handleChange:function(e){console.log("穿梭框变化后的值：",e)},handleAddTag:function(){this.addTagDialogVisible=!0},handleAddTagDialogClose:function(){this.$refs.addTagForm.resetFields()},handleAddTagConfirm:function(){var e=this;this.$refs.addTagForm.validate((function(t){if(!t)return!1;var a=Math.max.apply(Math,Object(n["a"])(e.tags.map((function(e){return e.id}))))+1;e.tags.push({id:a,name:e.addTagForm.name}),e.addTagDialogVisible=!1,e.$refs.addTagForm.resetFields(),e.$message.success("新增标签成功")}))},handleEditTag:function(e){this.editTagDialogVisible=!0,this.editTagForm.id=e.id,this.editTagForm.name=e.name},handleEditTagDialogClose:function(){this.$refs.editTagForm.resetFields()},handleEditTagConfirm:function(){var e=this;this.$refs.editTagForm.validate((function(t){if(!t)return!1;var a=e.tags.findIndex((function(t){return t.id===e.editTagForm.id}));-1!==a?(e.tags[a].name=e.editTagForm.name,e.editTagDialogVisible=!1,e.$refs.editTagForm.resetFields(),e.$message.success("编辑标签成功")):e.$message.error("找不到要编辑的标签")}))},renderContent:function(e,t){var a=this;return e("span",[t.name,e("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(e){e.stopPropagation(),a.handleEditTag(t)}}})])},save:function(){var e=this;this.$confirm("是否应用当前选股算法?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){e.$message({type:"success",message:"保存成功!"})})).catch((function(){e.$message({type:"info",message:"已取消"})}))},saveForm:function(){var e=this;this.$confirm("提交当前表单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){e.$message({type:"success",message:"保存成功!"})})).catch((function(){e.$message({type:"info",message:"已取消"})}))},fetchData:function(){switch(this.selectedAlgorithm1){case"1":this.factors=[{id:"factor1",name:"每股收益（元）"},{id:"factor2",name:"每股公积金（元）"},{id:"factor3",name:"每股未分配利润（元）"}],this.stocks=[{name:"股票A",code:"000001",factor1:.8,factor2:.6,factor3:.7},{name:"股票B",code:"000002",factor1:.9,factor2:.5,factor3:.8},{name:"股票C",code:"000003",factor1:.7,factor2:.7,factor3:.6}],this.rowData=["每股收益（元）","每股公积金（元）","每股未分配利润（元）"];break;case"2":this.factors=[{id:"factor4",name:"当前股价（元）"},{id:"factor5",name:"流通股本（亿元）"}],this.stocks=[{name:"股票D",code:"000004",factor4:.6,factor5:.8},{name:"股票E",code:"000005",factor4:.7,factor5:.7},{name:"股票F",code:"000006",factor4:.8,factor5:.6}],this.rowData=["当前股价（元）","流通股本（亿元）"];break;case"3":this.factors=[{id:"factor6",name:"流通市值（亿元）"}],this.stocks=[{name:"云内动力",code:"000903.XSHE",factor6:127.1167},{name:"星网宇达",code:"002829.XSHE",factor6:63.8491},{name:"青岛中程",code:"300208.XSHE",factor6:100.1299}],this.rowData=["市值（亿元）"];break}},search:function(){var e=this;this.algorithms=this.algorithms.filter((function(t){return t.name.includes(e.keyword)||t.id.includes(e.keyword)}))},selectAlgorithm:function(e){this.selectedAlgorithm=e,this.selectedAlgorithm1=e.id,this.fetchData()},reset:function(){this.algorithms=[{name:"低估值高增长",id:"1",logic:"选取市盈率低于行业平均水平，且营业收入增长率高于行业平均水平的股票",info:"该算法基于价值投资的理念，寻找被市场低估，但具有较强成长性的股票，适合中长期持有"},{name:"高分红稳健",id:"2",logic:"选取股息率高于行业平均水平，且净利润增长率稳定的股票",info:"该算法基于收益投资的理念，寻找能够持续分红，且业绩稳健的股票，适合长期持有"},{name:"低波动低换手",id:"3",logic:"选取波动率低于行业平均水平，且换手率低于行业平均水平的股票",info:"该算法基于低风险投资的理念，寻找市场波动小，且不受热钱影响的股票，适合短期持有"}]},checkReset:function(){""===this.keyword&&this.reset()},sortTable:function(e){var t=this;this.sortFactor===e?this.sortOrder="asc"===this.sortOrder?"desc":"asc":(this.sortFactor=e,this.sortOrder="asc"),this.shareData.sort((function(a,i){return"asc"===t.sortOrder?a[e]-i[e]:i[e]-a[e]}))},handleClick:function(e){var t=this;"third-3"===e.name&&this.$nextTick((function(){t.chart.resize()}))},publish:function(){var e=this;this.$confirm("是否发布?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){e.$message({type:"success",message:"发布成功!"})})).catch((function(){e.$message({type:"info",message:"已取消"})}))}}},q=J,G=(a("743d"),Object(g["a"])(q,l,c,!1,null,"f7d726a8",null)),K=G.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.pictures[0].checked,expression:"pictures[0].checked"}]},[a("div",[a("el-row",{attrs:{gutter:"5"}},[a("el-col",{staticStyle:{height:"500px"},attrs:{span:"6"}},[a("el-card",{staticStyle:{height:"100%"}},[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("今日评价")])]),a("div",{staticStyle:{"text-align":"center"}},[a("el-progress",{staticStyle:{"margin-top":"50PX"},attrs:{type:"dashboard",percentage:e.percentage,color:e.colors}}),a("p",{staticStyle:{"font-size":"20px","margin-top":"20px"}},[e._v("打败了"),a("span",{staticStyle:{color:"red"}},[e._v("97.5%")]),e._v("的股票 ")]),a("p",[e._v("次日涨幅率"),a("span",{staticStyle:{color:"red"}},[e._v("45.15%")])]),a("p",[a("span",{staticStyle:{"font-size":"15px"}},[e._v("操作建议：近期消息面一般，主力资金有接入迹象，短期呈现震荡趋势，市场关注意愿一般")])])],1)])],1),a("el-col",{attrs:{span:"10"}},[a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.pictures[1].checked,expression:"pictures[1].checked"}],staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("涨跌预测")])]),a("div",[a("span",{staticStyle:{"font-size":"25px","margin-right":"40px"}},[e._v("次日：")]),e._v(" 上涨概率"),a("span",{staticStyle:{color:"red","margin-right":"15px"}},[e._v("45.5% ")]),e._v(" 平均涨幅 "),a("span",{staticStyle:{color:"red"}},[e._v("0.15%")]),a("el-divider"),a("span",{staticStyle:{"font-size":"25px","margin-right":"40px"}},[e._v("后日：")]),e._v(" 上涨概率"),a("span",{staticStyle:{color:"red","margin-right":"15px"}},[e._v("45.5% ")]),e._v(" 平均涨幅 "),a("span",{staticStyle:{color:"red"}},[e._v("0.15%")])],1)]),a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.pictures[2].checked,expression:"pictures[2].checked"}]},[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("股价预测")])]),a("div",{staticClass:"echart",style:e.sharePriceChartStyle,attrs:{id:"sharePriceChart"}})])],1),a("el-col",{attrs:{span:"8"}},[a("el-card",{directives:[{name:"show",rawName:"v-show",value:e.pictures[3].checked,expression:"pictures[3].checked"}]},[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("个股综合排名")])]),a("div",[a("el-tag",[e._v(" 行业内 ")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.intraTableData,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"排名"}}),a("el-table-column",{attrs:{prop:"name",label:"股票名"}}),a("el-table-column",{attrs:{prop:"grade",label:"综合评分"}}),a("el-table-column",{attrs:{prop:"change",label:"变动趋势"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{style:{color:"red"}},[e._v(e._s(i.change))])]}}])})],1),a("el-divider"),a("el-tag",{attrs:{type:"danger"}},[e._v(" 全行业 ")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.intraTableData,stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"排名"}}),a("el-table-column",{attrs:{prop:"name",label:"股票名"}}),a("el-table-column",{attrs:{prop:"grade",label:"综合评分"}}),a("el-table-column",{attrs:{prop:"change",label:"变动趋势"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{style:{color:"red"}},[e._v(e._s(i.change))])]}}])})],1)],1)])],1)],1)],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.pictures[4].checked0,expression:"pictures[4].checked0"}]},[e._m(0),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.historyData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"股票名称",width:"180"}}),a("el-table-column",{attrs:{prop:"code",label:"股票代码",width:"180"}}),a("el-table-column",{attrs:{prop:"similarity",label:"相似度",sortable:""}}),a("el-table-column",{attrs:{prop:"eps",label:"每股收益",sortable:""}}),a("el-table-column",{attrs:{prop:"cfps",label:"每股现金流",sortable:""}}),a("el-table-column",{attrs:{prop:"capf",label:"每股公积金",sortable:""}}),a("el-table-column",{attrs:{prop:"undp",label:"每股未分配利润",sortable:""}}),a("el-table-column",{attrs:{prop:"capi",label:"流通股本",sortable:""}}),a("el-table-column",{attrs:{prop:"cmv",label:"流通市值",sortable:""}})],1)],1),a("div",[a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.pictures[5].checked,expression:"pictures[5].checked"}]},[a("el-tag",{staticStyle:{"font-size":"20px"}},[e._v("场景相关相似个股")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.otherData,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"股票名称",width:"180"}}),a("el-table-column",{attrs:{prop:"code",label:"股票代码",width:"180"}}),a("el-table-column",{attrs:{prop:"similarity",label:"相似度",sortable:""}}),a("el-table-column",{attrs:{prop:"eps",label:"每股收益",sortable:""}}),a("el-table-column",{attrs:{prop:"cfps",label:"每股现金流",sortable:""}}),a("el-table-column",{attrs:{prop:"capf",label:"每股公积金",sortable:""}}),a("el-table-column",{attrs:{prop:"undp",label:"每股未分配利润",sortable:""}}),a("el-table-column",{attrs:{prop:"capi",label:"流通股本",sortable:""}}),a("el-table-column",{attrs:{prop:"cmv",label:"流通市值",sortable:""}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.pictures[6].checked,expression:"pictures[6].checked"}]},[a("el-tag",{staticStyle:{"font-size":"20px"}},[e._v("场景无关相似个股")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.otherData0,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"股票名称",width:"180"}}),a("el-table-column",{attrs:{prop:"code",label:"股票代码",width:"180"}}),a("el-table-column",{attrs:{prop:"similarity",label:"相似度",sortable:""}}),a("el-table-column",{attrs:{prop:"eps",label:"每股收益",sortable:""}}),a("el-table-column",{attrs:{prop:"cfps",label:"每股现金流",sortable:""}}),a("el-table-column",{attrs:{prop:"capf",label:"每股公积金",sortable:""}}),a("el-table-column",{attrs:{prop:"undp",label:"每股未分配利润",sortable:""}}),a("el-table-column",{attrs:{prop:"capi",label:"流通股本",sortable:""}}),a("el-table-column",{attrs:{prop:"cmv",label:"流通市值",sortable:""}})],1)],1)])])])},U=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"center"}},[a("p",[e._v("历史最相似时刻：2021/12/08 相似度："),a("span",{staticStyle:{color:"red"}},[e._v("95.13%")])])])}],W={data:function(){return{chosenPictures:[],cur:0,percentage:97.5,pictures:[{id:1,name:"今日评价",checked:!1},{id:2,name:"涨跌预测",checked:!1},{id:3,name:"股价预测",checked:!1},{id:4,name:"个股综合排名",checked:!1},{id:5,name:"历史最相似时刻",checked:!1},{id:6,name:"场景相关相似个股",checked:!1},{id:7,name:"场景无关相似个股",checked:!1}],sharePriceChartStyle:{float:"left",width:"500px",height:"400px"},xData:["最低目标价","最高目标价","目标均价","当前价"],yData:[23,24,18,22],colors:[{color:"#EE0000",percentage:100}],intraTableData:[{id:"1",name:"东方财富",grade:"95",change:"+0.95%"},{id:"2",name:"中科创达",grade:"92",change:"+0.82%"},{id:"3",name:"宝信软件",grade:"87",change:"+0.65%"}],newsData:[{time:"03-04",desc:"本公司研发自主独立技术"},{time:"03-04",desc:"本公司研发自主独立技术"},{time:"03-04",desc:"本公司研发自主独立技术"}],historyData:[{name:"平安银行",code:"000001",similarity:.95,eps:1.23,cfps:1.56,capf:.78,undp:.45,capi:174.32,cmv:285.67}],otherData:[{name:"平安银行",code:"000001",similarity:.95,eps:1.23,cfps:1.56,capf:.78,undp:.45,capi:174.32,cmv:285.67},{name:"万科A",code:"000002",similarity:.92,eps:2.34,cfps:2.89,capf:1.23,undp:.67,capi:113.45,cmv:198.76},{name:"国农科技",code:"000004",similarity:.88,eps:-.12,cfps:-.34,capf:-.56,undp:-.89,capi:12.34,cmv:9.87}],otherData0:[{name:"退市中新",code:"603996",similarity:.4,eps:-.42,cfps:-.03,capf:1.86,undp:-10.69,capi:3,cmv:9.87},{name:"赫美集团",code:"002356",similarity:.39,eps:-.12,cfps:.02,capf:1.5,undp:-6.17,capi:5.27,cmv:6.21},{name:"退市拉夏",code:"603157",similarity:.35,eps:-.14,cfps:-.19,capf:3.49,undp:-4.01,capi:1.46,cmv:3.02}],chartOptions:{title:{text:"柱形图示例"},tooltip:{},legend:{data:[]},xAxis:{data:["每股收益","每股公积金","每股未分配利润"]},yAxis:{},series:[]},chartData:{"行业均值":[5,20,36],"行业中值":[6,15,25],"行业四分位":[4,18,32],"行业排名":[1,3,2]}}},computed:{previewSceneId:function(){return this.$store.state.scene.previewSceneId}},mounted:function(){var e=this;S(this.previewSceneId).then((function(t){console.log(t);var a=t.data.data,i=a.pictureList;i.forEach((function(t){e.pictures[t.id-1].checked=!0})),e.initEcharts(),e.initChart(),e.updateChart()}))},methods:{changeChosenPictures:function(){var e=this;this.pictures.forEach((function(t){t.checked&&e.chosenPictures.push(t)})),this.$store.dispatch("scene/setPictureList",this.chosenPictures)},initChart:function(){this.chart=R["init"](this.$refs.echart),this.chart.setOption(this.chartOptions)},updateChart:function(){var e,t=[],a=[],i=Object(r["a"])(this.checkedValues);try{for(i.s();!(e=i.n()).done;){var s=e.value;a.push(s),t.push({name:s,type:"bar",data:this.chartData[s]})}}catch(l){i.e(l)}finally{i.f()}this.chartOptions.legend.data=a,this.chartOptions.series=t,this.chart.setOption(this.chartOptions,!0)},initEcharts:function(){var e={xAxis:{data:this.xData},yAxis:{},series:[{type:"bar",data:this.yData}]},t=R["init"](document.getElementById("sharePriceChart"));t.setOption(e)}}},Y=W,ee=Object(g["a"])(Y,Q,U,!1,null,"4b8c541e",null),te=ee.exports,ae={components:{SceneCreate:K,Review:te},data:function(){return{selectForm:{name:""},dialogTitle:"投资场景创建",previewDialogVisible:!1,previewTableVisible:!1,editDialogVisible:!1,page:1,pageSize:5,counts:0,tableLoading:!1,previewTableLoading:!1,isEdit:!1,tableData:[{id:1,name:"场景1",theme:"教育",algorithms:"算法1",description:"描述1",tags:["创新"]},{id:2,name:"场景2",theme:"医疗",algorithms:"算法2",description:"描述1",tags:["创新"]},{id:3,name:"更改了的投资场景3",theme:"教育",algorithm:"低波动低换手",description:"更改描述",tags:["可靠","安全"]}],selectData:{},previewSceneData:{},previewSceneTableData:[],previewSceneTableColumns:[]}},mounted:function(){this.initData()},computed:{dialogVisible:{get:function(){return this.$store.state.scene.dialogVisible},set:function(e){this.$store.dispatch("scene/setDialogVisible",e)}}},watch:{dialogVisible:function(e){e||this.initData()}},methods:{handleSizeChange:function(e){this.pageSize=e,this.initData()},handleCurrentChange:function(e){this.page=e,this.initData()},clickAdd:function(){this.dialogTitle="投资场景创建",this.isEdit=!1,this.dialogVisible=!0},clickEdit:function(e,t){this.isEdit=!0,this.selectData=t,this.editDialogVisible=!0},selectNames:function(){this.initData()},handleDelete:function(e,t){var a=this;this.$confirm("此操作将永久删除该场景, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){D(t.id).then((function(e){a.initData(),a.$message({type:"success",message:"删除成功!"})}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},clickPreview:function(e,t){var a=this;this.$store.dispatch("scene/setPreviewSceneId",t.id),this.previewTableVisible=!0,this.previewTableLoading=!0,C({id:t.id}).then((function(e){2e4!==e.data.code?a.$message({type:"error",message:"获取股票列表失败"}):(a.previewSceneTableData=e.data.data.data.rows,a.previewSceneTableColumns=e.data.data.data.columns,a.previewTableLoading=!1)}))},handlePreview:function(e,t){this.previewDialogVisible=!0;var a=t.pubdate.split("/"),i=a[0],s=a[1],l=a[2];1===s.length&&(s="0"+s),1===l.length&&(l="0"+l),a=i+"-"+s+"-"+l;var c=window.frames["inner-frame"];c.postMessage({"股票代码":t.code,"中文名称":t.stock_name,"每股收益(元)":t.eps,"每股经营现金流(元)":5.37,"每股公积金(元)":t.capital_reserve_fund_per_share,"每股未分配利润(元)":t.retained_profit_per_share,"流通股本(亿股)":1.02,"流通市值(亿元)":57,_quarter:a,stock_id:t.code,_stock_name:t.stock_name,id:e,_selected_time:"2023-10-30","当前股价(元)":23.42},"*")},initData:function(){var e=this;this.tableLoading=!0,_({page:this.page,pageSize:this.pageSize,name:this.selectForm.name}).then((function(t){e.tableLoading=!1,e.tableData=t.data.data.records,e.counts=t.data.data.total,console.log(e.tableData)}))}}},ie=ae,se=(a("e464"),Object(g["a"])(ie,i,s,!1,null,"711ddba0",null));t["default"]=se.exports},e464:function(e,t,a){"use strict";a("22c6")},e57a:function(e,t,a){"use strict";a.d(t,"k",(function(){return c})),a.d(t,"h",(function(){return n})),a.d(t,"f",(function(){return s})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return f})),a.d(t,"l",(function(){return r})),a.d(t,"i",(function(){return o})),a.d(t,"c",(function(){return d})),a.d(t,"j",(function(){return l})),a.d(t,"g",(function(){return h})),a.d(t,"e",(function(){return p})),a.d(t,"b",(function(){return m})),a.d(t,"m",(function(){return g}));var i=a("b775");function s(e){return Object(i["a"])({url:"/lwz/algorithm/get",method:"get",params:e})}function l(e){return Object(i["a"])({url:"/lwz/algorithm/all",method:"get",params:e})}var c=function(e){return Object(i["a"])({url:"/lwz/algorithm/save",method:"post",data:e})};function n(e){return Object(i["a"])({url:"/lwz/algorithm/list",method:"get",params:e})}function r(e){return Object(i["a"])({url:"/lwz/algorithm/update",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/lwz/algorithm/getAlgorithmByPage",method:"get",params:e})}function d(e){return Object(i["a"])({url:"/lwz/algorithm/deleteAlgorithmById/"+e,method:"delete"})}function h(e){return Object(i["a"])({url:"/py-api/lwz/algorithm/file/getZonghe",method:"get",params:e})}function p(e){return Object(i["a"])({url:"/py-api/lwz/algorithm/file/runZonghe",method:"get",params:e})}function u(e){return Object(i["a"])({url:"/py-api/lwz/algorithm/file/run",method:"get",params:e})}function m(e){return Object(i["a"])({url:"/py-api/lwz/algorithm/file/createZonghe",method:"post",data:e})}function f(e){return Object(i["a"])({url:"/py-api/lwz/algorithm/file/create",method:"post",data:e})}function g(e){return Object(i["a"])({url:"/py-api/lwz/algorithm/file/updateZonghe",method:"post",data:e})}}}]);
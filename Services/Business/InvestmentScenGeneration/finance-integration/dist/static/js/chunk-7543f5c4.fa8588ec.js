(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7543f5c4"],{"03b5":function(t,e,a){},"0427":function(t,e,a){},"0788":function(t,e,a){},"0ec4":function(t,e,a){"use strict";a("954b")},1252:function(t,e,a){},"30cc":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage-algorithm-box"},[a("h3",[t._v("算法管理")]),a("el-form",{staticClass:"search-form",attrs:{inline:!0,model:t.selectForm}},[a("el-form-item",{attrs:{label:"算法名查询：",prop:"name"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",placeholder:"请输入算法"},on:{blur:t.selectNames},model:{value:t.selectForm.name,callback:function(e){t.$set(t.selectForm,"name",e)},expression:"selectForm.name"}})],1),a("el-form-item",{attrs:{label:"类别查询：",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择类别"},on:{change:t.selectTypes},model:{value:t.selectForm.type,callback:function(e){t.$set(t.selectForm,"type",e)},expression:"selectForm.type"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"条件选股",value:"1"}}),a("el-option",{attrs:{label:"综合选股",value:"2"}})],1)],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],ref:"algorithmTable",staticStyle:{width:"90%"},attrs:{data:t.algorithmData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"id",prop:"id",align:"center"}}),a("el-table-column",{attrs:{label:"算法名称",prop:"name",align:"center"}}),a("el-table-column",{attrs:{label:"类别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"primary"}},[t._v(" "+t._s("1"===e.row.type?"条件选股":"综合选股")+" ")])]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"done"===e.row.status?"success":"warning"}},[t._v(" "+t._s("done"===e.row.status?"已完成":"未完成")+" ")])]}}])}),a("el-table-column",{attrs:{label:"作者",prop:"author",align:"center"}}),a("el-table-column",{attrs:{align:"center","min-width":"250"},scopedSlots:t._u([{key:"header",fn:function(){return[a("el-button",{attrs:{type:"success",icon:"el-icon-plus",plain:""},on:{click:t.addNewAlgorithm}},[t._v("创建算法")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.clickBackTest}},[t._v("回测")])]},proxy:!0},{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-edit"},on:{click:function(a){return t.clickEdit(e.$index,e.row)}}},[t._v("编辑 ")]),a("el-button",{attrs:{plain:"",size:"small",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除 ")]),a("el-button",{attrs:{plain:"",size:"small",type:"info",icon:"el-icon-document"},on:{click:function(a){return t.handleInfo(e.$index,e.row)}}},[t._v("详情 ")])]}}])})],1),a("el-pagination",{staticClass:"pageList",attrs:{"page-sizes":[5,10,20,30,40],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.counts,"current-page":t.page},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("el-dialog",{attrs:{"destroy-on-close":"",visible:t.addDialogVisible,center:"",width:"80%"},on:{"update:visible":function(e){t.addDialogVisible=e}},scopedSlots:t._u([{key:"title",fn:function(){return[a("h3",[t._v(t._s(t.dialogTitle))])]},proxy:!0}])},[a("div",{staticStyle:{width:"100%"}},[a("AddDescription",{attrs:{isEdit:t.isEdit,editData:t.editData},on:{success:t.handleSuccess}})],1)]),a("el-dialog",{attrs:{visible:t.previewDialogVisible,center:"",width:"60%"},on:{"update:visible":function(e){t.previewDialogVisible=e}},scopedSlots:t._u([{key:"title",fn:function(){return[a("h3",[t._v("详细信息")])]},proxy:!0}])},[a("div",[a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{span:6}},[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("算法名称：")]),t._v(" "+t._s(t.previewData.name)+" ")]),a("el-col",{attrs:{span:6}},[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("算法类别：")]),t._v(" "+t._s("1"===t.previewData.type?"条件选股":"综合选股")+" ")]),a("el-col",{attrs:{span:6}},[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("算法作者：")]),t._v(" "+t._s(t.previewData.author)+" ")])],1),a("el-row",{staticStyle:{"margin-top":"2rem"}},[a("el-col",{attrs:{span:24}},[a("span",{staticStyle:{"font-weight":"bold"}},[t._v("算法描述：")]),t._v(" "+t._s(t.previewData.algorithmDescription)+" ")])],1),a("el-row",[a("el-col",{attrs:{span:24}},[t._v(" 算法因子： "),a("el-table",{attrs:{data:t.previewData.factors}},[a("el-table-column",{attrs:{label:"因子名称",prop:"name",align:"center"}}),a("el-table-column",{attrs:{label:"类别",prop:"type",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",[t._v(" "+t._s(e.row.type)+" ")])]}}])}),a("el-table-column",{attrs:{label:"公式",prop:"formula",align:"center"}}),a("el-table-column",{attrs:{label:"英文名",prop:"nameUs",align:"center"}}),a("el-table-column",{attrs:{label:"描述",prop:"description",align:"center"}})],1)],1)],1)],1)]),a("el-drawer",{attrs:{"destroy-on-close":"",visible:t.drawerVisible,size:"80%"},on:{"update:visible":function(e){t.drawerVisible=e}}},[a("DoneAlgorithm",{attrs:{row:t.incompleteRow}})],1),a("el-drawer",{attrs:{"destroy-on-close":"",size:"85%",direction:"ltr",visible:t.backTestDrawerVisible},on:{"update:visible":function(e){t.backTestDrawerVisible=e}}},[a("BackTesting",{attrs:{selectedAlgorithms:t.selectedAlgorithms}})],1)],1)},n=[],l=(a("d3b7"),a("25f0"),a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"view"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.page,expression:"page === 0"}],staticClass:"page0"},[a("article",{staticClass:"tutorial"},[t._v("选择算法类型和选股因子")]),a("div",{staticClass:"type-select-area"},[a("div",{staticClass:"type-select-box"},[a("div",{staticStyle:{"font-weight":"bold"}},[t._v("算法类型选择：")]),a("el-card",{staticClass:"card-button",class:{selected:t.algorithm.type===t.AlgorithmTypeEnum.conditional},attrs:{shadow:"always"},nativeOn:{click:function(e){t.algorithm.type=t.AlgorithmTypeEnum.conditional}}},[a("el-tooltip",{scopedSlots:t._u([{key:"content",fn:function(){return[a("div",{staticStyle:{"text-align":"center"},domProps:{innerHTML:t._s(t.conditionText)}})]},proxy:!0}])},[a("div",{staticClass:"card-title"},[t._v("条件选股")])])],1),a("el-card",{staticClass:"card-button",class:{selected:t.algorithm.type===t.AlgorithmTypeEnum["non-conditional"]},attrs:{shadow:"always"},nativeOn:{click:function(e){t.algorithm.type=t.AlgorithmTypeEnum["non-conditional"]}}},[a("el-tooltip",{scopedSlots:t._u([{key:"content",fn:function(){return[a("div",{staticStyle:{"text-align":"center"},domProps:{innerHTML:t._s(t.comprehensiveText)}})]},proxy:!0}])},[a("div",{staticClass:"card-title"},[t._v("综合选股")])])],1)],1)]),a("article",{staticClass:"factor-select-area"},[a("el-card",[a("div",{staticStyle:{"font-weight":"bold"}},[t._v("因子选择：")]),a("el-cascader",{ref:"xzCascader",attrs:{placeholder:"请选择",options:t.factors,props:{multiple:!0},filterable:"","show-all-levels":!1,"collapse-tags":"","collapse-tags-tooltip":"",clearable:""},model:{value:t.selectedFactors,callback:function(e){t.selectedFactors=e},expression:"selectedFactors"}})],1)],1),a("article",{staticClass:"step-area"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleNextStep}},[t._v("下一步")])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:1===t.page,expression:"page === 1"}],staticClass:"page1"},[a("article",{staticClass:"algorithm-name-bar"},[a("div",{staticClass:"content-box"},[a("span",[t._v("算法名称:")]),a("el-input",{attrs:{placeholder:"请输入算法名称"},model:{value:t.algorithm.name,callback:function(e){t.$set(t.algorithm,"name",e)},expression:"algorithm.name"}})],1)]),a("article",{staticClass:"description-edit-area"},[a("el-card",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.algorithm.factors,stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:"因子名称",width:"180"}}),a("el-table-column",{attrs:{prop:"description",label:"选股逻辑描述","min-width":"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{staticStyle:{width:"30%"},attrs:{size:"small"},model:{value:e.row.choiceType,callback:function(a){t.$set(e.row,"choiceType",a)},expression:"scope.row.choiceType"}},[a("el-option",{attrs:{label:"百分比",value:0}}),a("el-option",{attrs:{label:"排名",value:1}}),a("el-option",{attrs:{label:"数字",value:2}})],1),2===e.row.choiceType?a("el-select",{staticStyle:{width:"30%","margin-right":"0.5rem"},attrs:{placeholder:"请选择",size:"small"},model:{value:e.row.logic,callback:function(a){t.$set(e.row,"logic",a)},expression:"scope.row.logic"}},t._l(t.descriptionOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1):t._e(),2!==e.row.choiceType?a("el-select",{staticStyle:{width:"30%","margin-right":"0.5rem"},attrs:{size:"small"},model:{value:e.row.isTop,callback:function(a){t.$set(e.row,"isTop",a)},expression:"scope.row.isTop"}},[a("el-option",{attrs:{label:"前",value:1}}),a("el-option",{attrs:{label:"后",value:0}})],1):t._e(),2===e.row.choiceType?a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("该因子最小值为"+t._s(e.row.minValue)),a("br"),t._v(" 最大值为"+t._s(e.row.maxValue)),a("br"),t._v(" 精度为"+t._s(e.row.accuracy)+" ")]),2===e.row.choiceType?a("el-input-number",{staticStyle:{width:"30%","margin-right":"0.5rem"},attrs:{min:e.row.minValue,max:e.row.maxValue,step:e.row.accuracy,size:"small"},model:{value:e.row.defaultValue,callback:function(a){t.$set(e.row,"defaultValue",a)},expression:"scope.row.defaultValue"}}):t._e()],1):t._e(),2!==e.row.choiceType?a("el-input-number",{staticStyle:{width:"30%","margin-right":"0.5rem"},attrs:{min:1,max:100,step:1,"step-strictly":"",size:"small"},model:{value:e.row.value,callback:function(a){t.$set(e.row,"value",a)},expression:"scope.row.value"}}):t._e()]}}])})],1)],1),a("div",{staticStyle:{"margin-top":"1rem"}},[a("div",{staticClass:"font-bold text-lg"},[t._v("算法描述:")]),a("el-input",{attrs:{type:"textarea",placeholder:"请输入算法描述"},model:{value:t.algorithm.algorithmDescription,callback:function(e){t.$set(t.algorithm,"algorithmDescription",e)},expression:"algorithm.algorithmDescription"}})],1)],1),a("article",{staticClass:"step-bar"},[a("el-button",{on:{click:function(e){t.page=0}}},[t._v("上一步")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.handlePreview}},[t._v("预览")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleCreateNewAlgorithm}},[t._v(t._s(t.buttonText))])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:2===t.page,expression:"page === 2"}],staticClass:"page2"},[a("article",{staticClass:"algorithm-name-bar"},[a("div",{staticClass:"content-box"},[a("span",[t._v("算法名称:")]),a("el-input",{attrs:{placeholder:"请输入算法名称"},model:{value:t.algorithm.name,callback:function(e){t.$set(t.algorithm,"name",e)},expression:"algorithm.name"}})],1)]),a("article",{staticClass:"description-edit-area"},[a("div",{staticStyle:{display:"flex",gap:"10px","margin-bottom":"15px"}},t._l(t.algorithm.factors,(function(e){return a("el-button",{key:e.id,attrs:{type:"primary",plain:""},on:{click:function(a){return t.handleAddTagText(e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),1),a("div",{staticClass:"text-lg font-bold",staticStyle:{"margin-bottom":"10px"}},[t._v(" 选股逻辑描述: ")]),a("el-input",{attrs:{type:"textarea","show-word-limit":"",maxlength:"1000",autosize:{minRows:10,maxRows:20}},model:{value:t.algorithm.logicDescription,callback:function(e){t.$set(t.algorithm,"logicDescription",e)},expression:"algorithm.logicDescription"}})],1),a("article",{staticClass:"step-bar"},[a("el-button",{on:{click:function(e){t.page=0}}},[t._v("上一步")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleCreateComprehensive}},[t._v("生 成")])],1)]),a("el-dialog",{attrs:{title:"预览",visible:t.previewDialogVisible,width:"50%","destroy-on-close":"","append-to-body":""},on:{"update:visible":function(e){t.previewDialogVisible=e}}},[a("div",{staticClass:"text-base"},[a("algorithm-preview",{attrs:{algorithm:t.algorithm,tableData:t.previewTableData,columns:t.previewFactorColumns}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.previewDialogVisible=!1}}},[t._v("关 闭")])],1)])],1)}),o=[],r=a("c7eb"),s=a("1da1"),c=(a("ac1f"),a("5319"),a("159b"),a("7db0"),a("e9c4"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{border:"1px solid #ccc"}},[a("Toolbar",{staticStyle:{"border-bottom":"1px solid #ccc"},attrs:{editor:t.editor,defaultConfig:t.toolbarConfig,mode:t.mode}}),a("Editor",{staticStyle:{height:"300px"},attrs:{defaultConfig:t.editorConfig,mode:t.mode},on:{onCreated:t.onCreated,customPaste:t.customPaste,onChange:t.onChange},model:{value:t.html,callback:function(e){t.html=e},expression:"html"}})],1)}),u=[],d=(a("af93"),a("4e15")),h=a("cb23"),p=a("7b64"),m=a.n(p);h["Boot"].registerModule(m.a);var g={components:{Editor:d["a"],Toolbar:d["b"]},props:{editorContent:{type:String,required:!0}},data:function(){return{editor:null,html:this.editorContent,toolbarConfig:{excludeKeys:[],insertKeys:{index:0,keys:[]},modalAppendToBody:!1,toolbarKeys:["sup","sub","clearStyle","|","insertFormula","|","undo","redo","fullScreen"]},editorConfig:{placeholder:"请输入内容..."},mode:"default"}},methods:{onCreated:function(t){this.editor=Object.seal(t)},customPaste:function(t,e){var a=e.clipboardData.getData("text/plain");return t.insertText(a),e.preventDefault(),!1},onChange:function(t){var e=t.getHtml();this.$emit("changeEditorContent",e)}},updated:function(){},mounted:function(){},beforeDestroy:function(){var t=this.editor;null!=t&&t.destroy()}},f=g,b=(a("e50b"),a("2877")),v=Object(b["a"])(f,c,u,!1,null,null,null),y=v.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-cascader",{ref:"xzCascader",attrs:{placeholder:"请选择",options:t.factors,props:{multiple:!0},filterable:"","show-all-levels":!1,"collapse-tags":"","collapse-tags-tooltip":"",clearable:""},on:{change:t.handleChange},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)},x=[],_={props:{factors:{required:!0}},data:function(){return{selected:[]}},methods:{handleTest:function(){console.log(this.factors,this.selectedFactors,"selectedBar")},handleChange:function(t){this.$emit("change",t)}}},C=_,k=Object(b["a"])(C,w,x,!1,null,"7d854bad",null),D=k.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["0"!=t.algorithm.id?a("div",[a("b",[t._v("算法id:")]),t._v(" "+t._s(t.algorithm.id))]):t._e(),a("div",[a("b",[t._v("算法名称:")]),t._v(" "+t._s(t.algorithm.name))]),a("div",[a("b",[t._v("算法描述:")]),t._v(" "+t._s(t.algorithm.algorithmDescription)+" ")]),a("div",[a("el-table",{attrs:{"max-height":"400",data:t.tableData,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{label:"排名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1)+" ")]}}])}),a("el-table-column",{attrs:{prop:"code",label:"股票代码"}}),t._l(t.columns,(function(t){return a("el-table-column",{key:t.prop,attrs:{label:t.label,prop:t.prop}})}))],2)],1),a("div")])},O=[],T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-container"},[a("el-card",{staticClass:"card"},[a("el-container",[a("el-header",[t._v("因子详情")]),a("el-main",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:"124",border:""}},[a("el-table-column",{attrs:{prop:"label",label:"因子名称",width:"200"}}),a("el-table-column",{attrs:{prop:"cumulativeIncome",label:"缺失百分比"}}),a("el-table-column",{attrs:{prop:"AnnualizedIncome",label:"方差"}}),a("el-table-column",{attrs:{prop:"overAnnualizedIncome",label:"频度"}}),a("el-table-column",{attrs:{prop:"benchmarkAnnualizedIncome",label:"与场景主题相关性"}})],1),a("el-main",[a("facePop")],1),a("el-main",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card1"},[a("el-container",[a("el-header",[t._v("标准差，均值")]),a("el-main",[a("ICdiagram")],1)],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card2"},[a("el-container",[a("el-header",[t._v("方差")]),a("el-main",[a("turnoverRate")],1)],1)],1)],1)],1)],1),a("el-main",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card1"},[a("el-container",[a("el-header",[t._v("因子值最大的20只股票")]),a("el-main",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData1}},[a("el-table-column",{attrs:{prop:"ID",label:"股票代码",width:"120"}}),a("el-table-column",{attrs:{prop:"name",label:"股票名称",width:"140"}}),a("el-table-column",{attrs:{prop:"value",label:"因子值"}})],1)],1)],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-card",{staticClass:"box-card1"},[a("el-container",[a("el-header",[t._v("因子值最小的20只股票")]),a("el-main",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData2}},[a("el-table-column",{attrs:{prop:"ID",label:"股票代码",width:"120"}}),a("el-table-column",{attrs:{prop:"name",label:"股票名称",width:"140"}}),a("el-table-column",{attrs:{prop:"value",label:"因子值"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},j=[],$=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},A=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticStyle:{width:"850px",height:"400px"},attrs:{id:"main"}})])}],V=a("313e"),L={name:"",data:function(){return{charts:""}},methods:{drawLine:function(t){this.charts=V["init"](document.getElementById(t)),this.charts.setOption({title:{text:" "},tooltip:{trigger:"axis"},legend:{data:["中证500（000905）","最小分位数","二分位数","三分位数","四分位数","最大分位数"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{name:"中证500（000905）",type:"line",stack:"Total",data:[120,132,101,134,90,230,210],smooth:!0},{name:"最小分位数",type:"line",stack:"Total",data:[220,182,191,234,290,330,310]},{name:"二分位数",type:"line",stack:"Total",data:[150,232,201,154,190,330,410],smooth:!0},{name:"三分位数",type:"line",stack:"Total",data:[320,332,301,334,390,330,320],smooth:!0},{name:"四分位数",type:"line",stack:"Total",data:[820,932,901,934,1290,1330,1320],smooth:!0},{name:"最大分位数",type:"line",stack:"Total",data:[820,932,901,934,1290,1330,1320],smooth:!0}]})}},mounted:function(){this.$nextTick((function(){this.drawLine("main")}))}},z=L,E=Object(b["a"])(z,$,A,!1,null,"5d7683f8",null),I=E.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{width:"100%",height:"250px"},attrs:{id:"myChart"}})},B=[],R=a("f858"),N={mounted:function(){this.drawLine()},props:{factorname:{type:String,default:""},stockPool:{type:String,default:""},stockYear:{type:String,default:""},Theme:{type:String,default:""}},methods:{drawLine:function(){var t=this;return Object(s["a"])(Object(r["a"])().mark((function e(){var a,i,n,l,o;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(R["j"])({stockPool:"沪深300",stockYear:"2020",Theme:"行业龙头",factorname:"每股营业收入"});case 2:a=e.sent,i=t.$echarts.init(document.getElementById("myChart")),2e4===a.code?(n=a.data.standard_deviation_list,l=a.data.mean_list,o=a.data.date_list,i.setOption({title:{text:""},tooltip:{trigger:"axis"},legend:{data:["标准差","均值"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:o},yAxis:{type:"value"},series:[{name:"标准差",type:"line",stack:"Total",data:n,smooth:!0},{name:"均值",type:"line",stack:"Total",data:l,smooth:!0}]})):i.setOption({title:{text:""},tooltip:{trigger:"axis"},legend:{data:["IC","22日移动平均"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{name:"IC",type:"line",stack:"Total",data:[120,132,101,134,90,230,210],smooth:!0},{name:"22日移动平均",type:"line",stack:"Total",data:[220,182,191,234,290,330,310],smooth:!0}]});case 5:case"end":return e.stop()}}),e)})))()}}},P=N,q=Object(b["a"])(P,F,B,!1,null,null,null),M=q.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{width:"100%",height:"250px"},attrs:{id:"myChart1"}})},Z=[],G={mounted:function(){this.drawLine()},props:{factorname:{type:String,default:"每股营业收入"},stockPool:{type:String,default:"沪深300"},stockYear:{type:String,default:"2020"},Theme:{type:String,default:"行业龙头"}},methods:{drawLine:function(){var t=this;return Object(s["a"])(Object(r["a"])().mark((function e(){var a,i,n,l;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(R["j"])({stockPool:t.stockPool,stockYear:t.stockYear,Theme:t.Theme,factorname:t.factorname});case 2:a=e.sent,i=t.$echarts.init(document.getElementById("myChart1")),2e4===a.code?(n=a.data.variance_list,l=a.data.date_list,i.setOption({title:{text:""},tooltip:{trigger:"axis"},legend:{data:["方差"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:l},yAxis:{type:"value"},series:[{name:"方差",type:"line",stack:"Total",data:n,smooth:!0}]})):i.setOption({title:{text:""},tooltip:{trigger:"axis"},legend:{data:["IC","22日移动平均"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{name:"IC",type:"line",stack:"Total",data:[120,132,101,134,90,230,210],smooth:!0},{name:"22日移动平均",type:"line",stack:"Total",data:[220,182,191,234,290,330,310],smooth:!0}]});case 5:case"end":return e.stop()}}),e)})))()}}},H=G,Y=Object(b["a"])(H,W,Z,!1,null,null,null),Q=Y.exports,U={data:function(){return{tableData1:[{ID:"600064.XSHG",name:"南京高科",value:"0.866427"},{ID:"002192.XSHE",name:"融捷股份",value:"0.831331"}],tableData2:[{ID:"000540.XSHE",name:"中天金融",value:"-1.988439"},{ID:"688256.XSHG",name:"寒武纪",value:"-1.551533"}],tableData:[{label:"心里线指标",cumulativeIncome:"3.09%",AnnualizedIncome:"1.05%",overAnnualizedIncome:"-6.19%",benchmarkAnnualizedIncome:"7.72%",MaximumFallback:"32.35%",sharpeRatio:"-0.14",TurnoverRate:"3.03%"}],options1:[{value1:"选项1",label:"纯多头组合"},{value1:"选项2",label:"多空组合Ⅰ"},{value1:"选项3",label:"多空组合Ⅱ"}],value1:"",options2:[{value2:"选项1",label:"沪深300"},{value2:"选项2",label:"中证500"},{value2:"选项3",label:"中证800"},{value2:"选项4",label:"中证1000"},{value2:"选项5",label:"中证全指"}],value2:"",options3:[{value3:"选项1",label:"近三个月"},{value3:"选项2",label:"近一年"},{value:"选项3",label:"近三年"},{value3:"选项4",label:"近十年"}],value3:"",options4:[{valu4e:"选项1",label:"是"},{value4:"选项2",label:"否"}],value4:"",options5:[{value5:"选项1",label:"无滑点"},{value5:"选项2",label:"3‰佣金+1‰印花税+无滑点"},{value5:"选项3",label:"3‰佣金+1‰印花税+1‰滑点"}],value5:""}},components:{facePop:I,ICdiagram:M,turnoverRate:Q}},X=U,J=(a("74e8"),Object(b["a"])(X,T,j,!1,null,null,null)),K=J.exports,tt=(a("d81d"),a("cb29"),new Array(10).fill("").map((function(t,e){return{id:""+e,name:"算法"+e}})),{computed:{factor:function(){return K},algorithmNew:function(){return this.algorithm}},watch:{algorithmNew:{handler:function(t,e){this.algorithm.factors.forEach((function(t){"higherequal"===t.logic?t.logic="大于等于":"lowerequal"===t.logic?t.logic="小于等于":"higher"===t.logic?t.logic="大于":"lower"===t.logic?t.logic="小于":"equal"===t.logic?t.logic="等于":t.logic="大于"}))},deep:!0}},mounted:function(){this.algorithm.factors.forEach((function(t){"higherequal"===t.logic?t.logic="大于等于":"lowerequal"===t.logic?t.logic="小于等于":"higher"===t.logic?t.logic="大于":"lower"===t.logic?t.logic="小于":"equal"===t.logic?t.logic="等于":t.logic="大于"}))},props:{algorithm:{type:Object,required:!0},columns:{required:!0},tableData:{required:!0}},data:function(){return{}},methods:{tableRowClassName:function(t){t.row;var e=t.rowIndex;return console.log(e),e<10?"success-row":""}}}),et=tt,at=(a("c7ea"),Object(b["a"])(et,S,O,!1,null,null,null)),it=at.exports,nt=a("b775");var lt=a("e57a"),ot=(a("b85c"),a("5530")),rt=function(t,e){var a=[];console.log(t,e);for(var i=0;i<e.length;i++)for(var n=0;n<t.length;n++)if(t[n].value===e[i][0])for(var l=0;l<t[n].children.length;l++)e[i][1]===t[n].children[l].value&&a.push(t[n].children[l]);return a.map((function(t){return Object(ot["a"])(Object(ot["a"])({description:""},t),{},{name:t.label,isTop:1,choiceType:0,value:1,nameUs:t.value,logic:"大于"})}))},st={empty:"0",conditional:"1","non-conditional":"2"};a("bc3a");function ct(t){return Object(nt["a"])({url:"/stock/getSimulatedStock",method:"post",data:t})}function ut(t){return Object(nt["a"])({url:"/stock/getStockList",method:"post",data:t})}var dt={initial:0,page1:1,page2:2},ht={components:{Editor:y,SelectedBar:D,AlgorithmPreview:it},props:{isEdit:{required:!0},editData:{required:!0,default:function(){return{}}}},data:function(){return{factors:[],selectedFactors:[],previewFactorColumns:[],previewTableData:[],buttonText:"生成",descriptionOptions:[{value:"higher",label:"大于"},{value:"higherequal",label:"大于等于"},{value:"lower",label:"小于"},{value:"lowerequal",label:"小于等于"},{value:"equal",label:"等于"}],algorithm:{id:"0",name:"",algorithmDescription:"",logicDescription:"",type:st.empty,factors:[]},comprehensiveText:" 综合选股是根据提供系统或用户编制的条件选股公式 <br/>进行选股选定一个条件选股公式或多个组合条件后，<br/>计算机自动帮您选出当时或历史上某一段时间内满足条件的所有股票",conditionText:" 条件选股是根据提供系统或用户编制的条件选股公式进行选股选定一个<br/>条件选股公式或多个组合条件后，<br/>计算机自动帮您选出当时或历史上某一段时间内满足条件的所有股票",page:dt.initial,previewDialogVisible:!1,AlgorithmTypeEnum:st}},watch:{selectedFactors:function(t,e){console.log("change!!!:",t,e)},isEdit:{handler:function(t,e){t?(this.algorithm.type=this.editData.type,this.buttonText="修改"):(this.buttonText="生成",this.algorithm={id:"0",name:"",algorithmDescription:"",logicDescription:"",type:st.empty,factors:[]},this.selectedFactors=[])},immediate:!0},editData:{handler:function(t){var e=this;t.factors&&0!==t.factors.length&&(this.page=dt.initial,this.selectedFactors=[],t.factors.forEach((function(t){var a=[];a.push(t.type),a.push(t.nameUs),e.selectedFactors.push(a)})),this.algorithm.id=t.id,this.algorithm.type=t.type,null!==t.logicDescription&&(this.algorithm.logicDescription=t.logicDescription),this.algorithm.name=t.name,null!==t.algorithmDescription&&(this.algorithm.algorithmDescription=t.algorithmDescription))},deep:!0,immediate:!0}},methods:{handleCreateComprehensive:function(){var t=this;return Object(s["a"])(Object(r["a"])().mark((function e(){var a,i,n,l;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isEdit){e.next=8;break}return a=t.$loading({text:"正在修改"}),e.next=4,Object(lt["l"])(t.algorithm);case 4:i=e.sent,2e4===i.data.code?(a.close(),t.$emit("success"),t.$message.success("修改成功")):(a.close(),t.$message.error("修改失败")),e.next=14;break;case 8:return n=t.$loading({lock:!0,text:"正在生成算法"}),e.next=11,Object(lt["k"])(t.algorithm);case 11:l=e.sent,Object(lt["a"])({id:l.data.data}).then((function(t){})).catch((function(e){t.$message.error("生成失败"),n.close()})),Object(lt["b"])({id:l.data.data}).then((function(e){n.close(),2e4===e.data.code?(t.$message.success("生成成功"),t.$emit("success")):t.$message.error("生成失败")})).catch((function(e){t.$message.error("生成失败"),n.close()}));case 14:case"end":return e.stop()}}),e)})))()},handleCreateNewAlgorithm:function(){var t=this;return Object(s["a"])(Object(r["a"])().mark((function e(){var a,i,n,l,o,s,c,u,d,h,p;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isEdit){e.next=12;break}for(a=t.$loading({text:"正在修改"}),i=0,n=0;n<t.algorithm.factors.length;n++)1===t.factors[n].isNumber&&i++;for(i>1&&t.$message.warning("选股只能有一个数值型排序因子"),l=0;l<t.algorithm.factors.length;l++)2===t.algorithm.factors[l].type&&(t.algorithm.factors[l].value=t.algorithm.factors[l].defaultValue);return e.next=8,Object(lt["l"])(t.algorithm);case 8:o=e.sent,2e4===o.data.code?(a.close(),t.$emit("success"),t.$message.success("修改成功")):(a.close(),t.$message.error("修改失败")),e.next=26;break;case 12:for(s=t.$loading({lock:!0,text:"正在生成算法"}),c=0,u=0;u<t.algorithm.factors.length;u++)1===t.factors[u].isNumber&&c++;for(c>1&&t.$message.warning("选股只能有一个数值型排序因子"),d=0;d<t.algorithm.factors.length;d++)2===t.algorithm.factors[d].type&&(t.algorithm.factors[d].value=t.algorithm.factors[d].defaultValue);return e.next=19,Object(lt["k"])(t.algorithm);case 19:return h=e.sent,e.next=22,ut(t.algorithm);case 22:p=e.sent,console.log(h.data),console.log(p.data),Object(lt["a"])({id:h.data.data,stockList:p.data.data}).then((function(e){s.close(),2e4===e.data.code?(t.$message.success("生成成功"),t.$emit("success")):t.$message.error("生成失败")})).catch((function(e){t.$message.error("生成失败"),s.close()}));case 26:case"end":return e.stop()}}),e)})))()},handlePreview:function(){var t=this;this.previewFactorColumns=[];for(var e=function(e){var a=t.algorithm.factors.find((function(a){return a.nameUs===t.selectedFactors[e][1]}));t.previewFactorColumns.push({label:a.name,prop:t.selectedFactors[e][1]})},a=0;a<this.selectedFactors.length;a++)e(a);this.previewDialogVisible=!0;for(var i=0,n=0;n<this.algorithm.factors.length;n++)1===this.factors[n].isNumber&&i++;i>1&&this.$message.warning("综合选股只能有一个数值型排序因子");for(var l=0;l<this.algorithm.factors.length;l++)2===this.algorithm.factors[l].type&&(this.algorithm.factors[l].value=this.algorithm.factors[l].defaultValue);console.log(this.algorithm),ct(this.algorithm).then((function(e){t.previewTableData=e.data.data})).catch((function(t){console.log(t)}))},handleNextStep:function(){switch(this.algorithm.type){case st.conditional:this.selectedFactors.length>0?(this.isEdit?this.algorithm.factors=JSON.parse(JSON.stringify(this.editData.factors)):this.algorithm.factors=rt(this.factors,this.selectedFactors),this.page=dt.page1):this.$message({message:"至少选择一个选股因子",type:"warning"});break;case st["non-conditional"]:this.selectedFactors.length>0?(this.algorithm.factors=rt(this.factors,this.selectedFactors),this.page=dt.page2):this.$message({message:"至少选择一个选股因子",type:"warning"});break;default:this.$message({message:"请先选择算法类型",type:"warning"});break}},handleAddTagText:function(t){console.log(t),this.algorithm.logicDescription+=t},fetchData:function(){var t=this;Object(R["d"])().then((function(e){console.log("response",e),t.factors=e.data.data}))},handleChangeEditorContent:function(t){this.algorithm.logicDescription=t}},created:function(){this.fetchData()}},pt=ht,mt=(a("3c56"),Object(b["a"])(pt,l,o,!1,null,"38f2a749",null)),gt=mt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view"},[a("header",{directives:[{name:"show",rawName:"v-show",value:1===t.page,expression:"page === 1"}],staticClass:"page-header"},[a("span",[t._v("算法列表")])]),a("header",{directives:[{name:"show",rawName:"v-show",value:2===t.page,expression:"page === 2"}],staticClass:"page-header"},[a("div",[a("el-divider",{attrs:{direction:"vertical"}}),a("span",[t._v(t._s(t.algorithm.name))])],1),a("div",{staticClass:"text-base"},[t._v("操作指南")])]),a("hr"),a("div",{directives:[{name:"show",rawName:"v-show",value:1===t.page,expression:"page === 1"}],staticClass:"page"},[a("div",{staticClass:"text-lg font-bold",staticStyle:{"text-align":"center"}},[t._v(" 待完成算法 ")]),a("div",{staticStyle:{width:"70vw",margin:"auto"}},[a("table-list",{on:{handleEdit:t.handleEdit}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:2===t.page,expression:"page === 2"}],staticClass:"page2"},[a("div",{staticClass:"left-area"},[a("div",{staticClass:"editor-bar"},[a("el-select",{staticClass:"select",attrs:{placeholder:""},model:{value:t.themeValue,callback:function(e){t.themeValue=e},expression:"themeValue"}},t._l(t.themes,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-button",{attrs:{type:"primary",plain:"",loading:"loading"===t.monacoButtonState},on:{click:t.handleClickSaveOrEditButton}},[t._v(" 保存算法")])],1),a("monaco",{directives:[{name:"loading",rawName:"v-loading",value:t.pageLoading,expression:"pageLoading"}],attrs:{theme:t.themeValue,monacoDefaultValue:t.monacoValue,monacoOptions:t.monacoOptions},on:{save:t.handleSaveAlgorithmContent}})],1),a("div",{staticClass:"right-area"},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div"),a("div",{staticStyle:{"margin-left":"0px"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-caret-right",loading:t.chooseButtonLoading},on:{click:t.handleExecuteAlgorithm}},[t._v(" 选股")])],1),"0"===t.initToShow?a("div",[a("el-table",{attrs:{"max-height":"370",data:t.tableValue}},t._l(t.tableColumns,(function(t,e){return a("el-table-column",{key:e,attrs:{label:t.label,prop:t.prop}})})),1)],1):t._e(),"1"===t.initToShow?a("div",[a("el-menu",{staticClass:"el-menu-chart",attrs:{mode:"horizontal"}},[a("el-menu-item",{attrs:{index:"1"},nativeOn:{click:function(e){return t.showChartA.apply(null,arguments)}}},[t._v("最大回撤分布")]),a("el-menu-item",{attrs:{index:"2"},nativeOn:{click:function(e){return t.showChartB.apply(null,arguments)}}},[t._v("收益曲线")]),a("el-menu-item",{attrs:{index:"3"},nativeOn:{click:function(e){return t.showChartc.apply(null,arguments)}}},[t._v("test")])],1)],1):t._e(),"a"===t.chartToShow?a("div",{staticClass:"ChartA"},[a("chart-a",{attrs:{chartData:t.chartAData}})],1):t._e(),"b"===t.chartToShow?a("div",[a("div",{staticClass:"text-sm",staticStyle:{display:"flex","justify-content":"space-around",margin:"20px"}},[a("div",{staticStyle:{color:"#8ba2cc"}},[t._v("策略收益 "),a("br"),t._v(t._s(t.yieldRate)+"%")]),a("div",{staticStyle:{color:"#cd9597"}},[t._v(" 交易结束后的资金量 "),a("br"),t._v(t._s(t.endValue)+" ")])]),a("line-chart",{attrs:{chartInput:t.chartInput}})],1):t._e(),"c"===t.chartToShow?a("div",[a("h1",[t._v("Vu")])]):t._e(),a("div",{staticStyle:{"margin-top":"60px",width:"40%",position:"absolute",right:"10%",bottom:"25px"}},[a("console",{attrs:{consoleContent:t.consoleValue}})],1)]),2===t.page?a("drawer",{attrs:{drawer:t.drawer,algorithm:t.algorithm},on:{"update:drawer":function(e){t.drawer=e},changeAlgorithmDescription:t.handleUpdateAlgorithmDescription}}):t._e()],1)])},bt=[],vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("MonacoEditor",{attrs:{height:"700px",theme:t.theme,language:"python",options:t.monacoOptions},on:{change:t.onChange},model:{value:t.editorValue,callback:function(e){t.editorValue=e},expression:"editorValue"}})},yt=[],wt=a("cb17"),xt={components:{MonacoEditor:wt["a"]},props:{theme:{type:String,default:"vs-dark",required:!1},monacoDefaultValue:{type:String},monacoOptions:{type:Object,default:function(){return{readOnly:!1,foldingStrategy:"indentation"}}}},data:function(){return{editorValue:this.monacoDefaultValue}},computed:{readOnly:function(){return this.monacoOptions.readOnly}},watch:{monacoDefaultValue:function(){this.resetValue()},readOnly:{handler:function(t,e){!1===e&&!0===t&&this.$emit("save",this.editorValue)}}},methods:{onChange:function(t){this.editorValue=t},resetValue:function(){this.editorValue=this.monacoDefaultValue}}},_t=xt,Ct=Object(b["a"])(_t,vt,yt,!1,null,null,null),kt=Ct.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-drawer",{attrs:{title:t.algorithm.name,visible:t.drawer,direction:"ltr",size:"40%","before-close":t.handleClose}},[a("div",{staticClass:"drawer"},[a("div",[a("b",[t._v("选股因子:")]),a("div",{staticStyle:{display:"flex",gap:"10px","flex-wrap":"wrap"}},t._l(t.algorithm.factors,(function(e){return a("el-tag",{key:e.id},[t._v(t._s(e.name))])})),1)]),a("div",[a("b",[t._v("选股描述:")]),a("div",{domProps:{innerHTML:t._s(t.algorithm.logicDescription)}})]),a("div",{staticClass:"text-base font-bold"},[t._v("算法描述:")]),a("el-input",{staticStyle:{width:"400px","margin-left":"30px"},attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},on:{change:t.handleChangeTextarea},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}}),a("div",{staticClass:"bottom-bar"},[a("el-button",{staticClass:"to-right",attrs:{type:"primary"},on:{click:t.save}},[t._v("保存")])],1)],1)])],1)},St=[],Ot={props:["drawer","algorithm"],data:function(){return{language:"javascript",textarea:this.algorithm.algorithmDescription}},methods:{handleClose:function(t){var e=this;this.$confirm("确认关闭？").then((function(a){e.$emit("update:drawer",!1),t()})).catch((function(t){}))},handleChangeTextarea:function(t){this.$emit("changeAlgorithmDescription",t)},save:function(){var t=this;Object(lt["l"])(this.algorithm).then((function(e){t.$emit("update:drawer",!1),t.$message({message:"保存成功",type:"success"})}))}}},Tt=Ot,jt=(a("8e61"),Object(b["a"])(Tt,Dt,St,!1,null,"46d8cd9e",null)),$t=jt.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"myChart",staticClass:"chart"})},Vt=[];var Lt=["#aa4643","#4572a7","#4c9155"],zt=([172.50999451,172.52000427,175.8999939,176.05999756,175.49000549,173.74000549,173.25,174.33000183,175.71000671,177.03999329,177.41999817,178.38000488,179.63999939,179.8999939,180.38999939,181.77000427,182.69999695,183.8999939,,184.69000244,185.46000671,186.11999512,187.44000244,188.47000122,189.55999756,190.63000488,191.83000183,192.8999939,193.99000549,195.16999817,196,197.08000183,198.11000061,199.21000671,200.38999939,201,202.08000183,203.21000671,204.38999939].map((function(t){return t-150})),[1136.81994629,1068.89001465,1070.70996094,1084.86999512,1073.90002441,1068.43005371,1077.32995605,1078.58996582,1095.17004395,1105.25,1119.17004395,1123.43005371,1131.92004395,1144.20996094,1155.97998047,1169.89001465,1186.89001465,1190.80004883,1206.19995117,1216.32995605,1227.43005371,1238.17004395,1249.30004883,1260.80004883,1272.68005371,1284,1295.80004883,1307.92004395,1320.30004883].map((function(t){return t-1e3})),[20,17,-4,11,0,6,15,-3,-6,-30,-23,-9,-13,-30,-30,-27,-3,-25,-22,-10,-27,-30,-30,-30,-24,-30,-25,-30,-30,-27,-30,-6,-29,-22,-29,-16,3,21,4,-1,24,29,46,59,54,30,5,25,44,50].map((function(t){return 2*t})),function(t){var e={title:{text:"最大收益分布",left:"center"},legend:{data:t.lines.map((function(t){return t.name})),inactiveColor:"#777",textStyle:{color:"black"},x:"left",orient:"vertical"},tooltip:{trigger:"axis"},xAxis:{boundaryGap:!1,axisLine:{onZero:!1},axisTick:{show:!0},data:t.dates},yAxis:{splitNumber:6,axisLabel:{formatter:"{value} %"},axisLine:{show:!1},axisTick:{show:!1}},series:t.lines.map((function(t,e){var a={type:"line",name:t.name,showSymbol:!1,color:Lt[e],data:t.data};return a})),grid:{top:"30%",left:"2%",right:"2%",bottom:"12%",containLabel:!0},dataZoom:[{type:"inside",textStyle:{color:"#8392A5"},handleSize:"80%",dataBackground:{areaStyle:{color:"#8392A5"},lineStyle:{opacity:.8,color:"#8392A5"}},handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2}},{type:"slider"}]};return e}),Et={mounted:function(){this.chartInstance=this.$echarts.init(this.$refs.myChart),this.renderChart()},props:{chartInput:{type:Object}},data:function(){return{chartInstance:null}},watch:{chartInput:{deep:!0,handler:function(){this.renderChart(),console.log("refresh")}}},methods:{renderChart:function(){this.chartInstance.clear();var t=zt(this.chartInput);this.chartInstance.setOption(t)}}},It=Et,Ft=(a("c8e5"),Object(b["a"])(It,At,Vt,!1,null,"7f15da61",null)),Bt=Ft.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{label:"名称",width:"180",prop:"name",align:"center"}}),a("el-table-column",{attrs:{label:"业务人员",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{size:"medium",type:"warning"}},[t._v(t._s(e.row.author))])]}}])}),a("el-table-column",{attrs:{label:"创建时间",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.createdAt))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")])]}}])})],1)},Nt=[],Pt={data:function(){return{tableData:[]}},methods:{handleEdit:function(t,e){this.$emit("handleEdit",t,e)},handleDelete:function(t,e){console.log(t,e)},fetchData:function(){var t=this;Object(lt["h"])({algorithmStatus:"todo"}).then((function(e){t.tableData=e.data.data}))}},created:function(){this.fetchData()}},qt=Pt,Mt=Object(b["a"])(qt,Rt,Nt,!1,null,"585f15b4",null),Wt=Mt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"component"},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{staticClass:"tab1 tab",attrs:{label:"日志"}},[t._v(t._s(t.consoleContent))])],1)],1)},Gt=[],Ht={props:{consoleContent:{type:String}},data:function(){return{}}},Yt=Ht,Qt=(a("0ec4"),Object(b["a"])(Yt,Zt,Gt,!1,null,"7c31ceba",null)),Ut=Qt.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},Jt=[],Kt=(a("fb6a"),a("eec4")),te=a.n(Kt),ee={methods:{chartEleResizeListener:function(){var t=this,e=te()({strategy:"scroll",callOnAdd:!0});e.listenTo(this.$el,(function(){t.chart&&t.chart.resize()}))},windowResizeListener:function(){this.chart&&this.chart.resize()}},mounted:function(){window.addEventListener("resize",this.windowResizeListener),this.chartEleResizeListener()},beforeDestroy:function(){window.removeEventListener("resize",this.windowResizeListener)}},ae={mixins:[ee],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){console.log(t.chartData),t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=V["init"](this.$el),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.time,a=t.shanghaiIndex,i=t.strategyProfit;this.chart.setOption({title:{text:"最大回撤分布",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow",formatter:"{value} %"}},dataZoom:[{type:"inside",start:50,end:100,zoomOnMouseWheel:!1,onDataZoom:function(t){var e=t.startValue,a=t.endValue,i=chartAData.shanghaiIndex.slice(e,a+1),n=chartAData.strategyProfit.slice(e,a+1),l=0-i[0],o=0-n[0],r=i.map((function(t){return t+l})),s=n.map((function(t){return t+o}));myChart.setOption({series:[{data:r},{data:s}]})}},{show:!0,type:"slider",top:"90%",start:50,end:100,zoomOnMouseWheel:!1}],grid:{top:35,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:e,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisLabel:{show:!0,interval:"auto",formatter:"{value} %"},show:!0}],series:[{name:"沪深300最大回撤(%)",type:"line",data:a},{name:"本策略最大回撤(%)",type:"line",data:i}]})}}},ie=ae,ne=Object(b["a"])(ie,Xt,Jt,!1,null,null,null),le=ne.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},re=[],se={mixins:[ee],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){console.log(t.chartData),t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=V["init"](this.$el),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.time,a=t.shanghaiIndex,i=t.strategyProfit;this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:35,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:e,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"上证指数",type:"bar",data:a},{name:"本策略收益",type:"bar",data:i}]})}}},ce=se,ue=Object(b["a"])(ce,oe,re,!1,null,null,null),de=(ue.exports,{components:{Monaco:kt,LineChart:Bt,Drawer:$t,Console:Ut,TableList:Wt,ChartA:le},props:{row:{type:Object,default:function(){}}},data:function(){return{awesome:!0,pageLoading:!1,chooseButtonLoading:!1,endValue:"",yieldRate:"",initialCash:1e5,dateRange:[new Date(2023,0,1),new Date(2023,4,16)],pickerOptions:{disabledDate:function(t){var e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();return!(2023===e&&1===a)&&!(2023===e&&2===a)&&!(2023===e&&3===a)&&!(2023===e&&4===a)&&!(2023===e&&5===a&&i<=16)}},tableValue:[],tableColumns:[],page:2,drawer:!1,themeValue:"vs-dark",themes:[{value:"vs-dark",label:"暗色主题"},{value:"light",label:"亮色主题"}],algorithm:{id:"",author:"",createAt:"",name:""},monacoValue:"",savedAlgorithmContentValue:"",consoleValue:"暂未运行",monacoOptions:{readOnly:!1,foldingStrategy:"indentation"},monacoButtonState:"edit",chartInput:{dates:[],lines:[]},chartAData:{time:[],shanghaiIndex:[],strategyProfit:[]},chartToShow:"",initToShow:"0"}},mounted:function(){this.monacoValue="#"+this.row.logicDescription+"\n",this.handleEdit(0,this.row)},methods:{showChartA:function(){console.log("AAAAA"),this.chartToShow="a"},showChartB:function(){console.log("BBBBB"),console.log(this.endValue),this.chartToShow="b"},showChartC:function(){this.chartToShow="c"},showD:function(){console.log("DDD"),this.chartToShow="d"},handleTest:function(){console.log(this.dateRange,"!")},handleEdit:function(t,e){var a=this;this.pageLoading=!0,Object(lt["f"])({id:e.id}).then((function(t){a.algorithm=t.data.data,Object(lt["g"])({fileName:a.algorithm.algorithmFilePath}).then((function(t){a.monacoValue=a.monacoValue+t.data.data,console.log("get monacoValue",a.monacoValue),a.pageLoading=!1})).catch((function(t){a.$message.error("获取算法内容失败"),a.pageLoading=!1}))}))},handleExecuteAlgorithm:function(){var t=this;"edit"!==this.monacoButtonState?this.$message({message:"请先保存算法再运行",type:"warning"}):(this.chooseButtonLoading=!0,Object(lt["e"])({fileName:this.algorithm.algorithmFilePath}).then((function(e){if(2e4===e.data.code)return t.$message({message:"运行失败",type:"error"}),t.consoleValue="运行失败",t.tableValue=[],t.tableColumns=[],void(t.chooseButtonLoading=!1);t.tableColumns=e.data.columns,t.tableValue=e.data.rows,t.consoleValue="运行成功"})),this.chooseButtonLoading=!1)},handleClickSaveOrEditButton:function(){this.monacoOptions.readOnly=!0},handleSaveAlgorithmContent:function(t){var e=this;this.savedAlgorithmContentValue=t,this.monacoButtonState="loading",Object(lt["m"])({content:this.savedAlgorithmContentValue,fileName:this.algorithm.algorithmFilePath}).then((function(t){e.monacoButtonState="edit",e.$message({message:"保存成功",type:"success"}),console.log(t.data)}))},handleUpdateAlgorithmDescription:function(t){this.algorithm.algorithmDescription=t}}}),he=de,pe=(a("e746"),Object(b["a"])(he,ft,bt,!1,null,"e5a52926",null)),me=pe.exports,ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view"},[a("div",{staticClass:"page"},[a("div",{staticStyle:{"z-index":"999",position:"absolute",width:"95%",top:"0","flex-flow":"column",display:"flex","justify-content":"center","align-items":"center"}},[a("h3",[t._v("算法回测分析")]),a("div",{staticClass:"pre-selected-bar"},[a("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%"}},[a("div",[a("el-date-picker",{staticStyle:{width:"250px"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}}),t._v(" 初始资金： "),a("el-input-number",{staticStyle:{width:"150px"},attrs:{min:0,max:1e8,step:1e4},model:{value:t.initialCapital,callback:function(e){t.initialCapital=e},expression:"initialCapital"}}),a("el-button",{staticStyle:{margin:"2rem"},attrs:{type:"primary",icon:"el-icon-caret-right",disabled:0===t.selectedList.length},on:{click:t.handleRun}},[t._v(" 运行 ")])],1)])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showChart,expression:"showChart"}],staticStyle:{margin:"30px",width:"100%",left:"0","margin-top":"90%",display:"flex","flex-flow":"column","justify-content":"center","align-items":"center"}},[a("div",{staticStyle:{display:"flex","justify-content":"center",width:"100%"}},t._l(t.resultInfos,(function(e,i){return t.resultInfos.length>0?a("div",{key:i,staticStyle:{color:"black","font-weight":"bold",margin:"5px"}},[t._v(t._s(e.name)+"收益: "),a("el-tag",[t._v(t._s(e.yieldRate)+"%")])],1):t._e()})),0),a("line-chart",{attrs:{chartInput:t.chartInput}}),a("div",{staticStyle:{display:"flex","justify-content":"flex-start","margin-top":"10%"}},t._l(t.resultInfos,(function(e,i){return t.resultInfos.length>0?a("div",{key:i,staticStyle:{color:"black","font-weight":"bold",margin:"5px"}},[t._v(" "+t._s(e.name)+"最大回撤: "),a("el-tag",{attrs:{type:"danger"}},[t._v(t._s(e.maximum))])],1):t._e()})),0),a("chart-a",{attrs:{"chart-data":t.chartData,strategy:t.strategyData}})],1),a("el-dialog",{attrs:{title:0===t.activeStep?"预选列表":"选择最优算法",visible:t.dialogVisible,width:"50%","append-to-body":"","before-close":t.handleClose,"destroy-on-close":""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.preselectedList,stripe:"","empty-text":"预选列表中暂无内容"}},[a("el-table-column",{attrs:{prop:"id",label:"id",width:"80"}}),a("el-table-column",{attrs:{prop:"name",label:"算法名",width:"180"}}),a("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===t.activeStep?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除 ")]):t._e(),1===t.activeStep?a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("确定 ")]):t._e()]}}])})],1),0===t.activeStep?a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",disabled:0===t.preselectedList.length},on:{click:function(e){t.dialogVisible=!1,t.page=2,t.activeStep=1}}},[t._v("开始回测")])],1):t._e()],1)],1)},fe=[],be=a("2909"),ve=(a("c740"),a("b680"),a("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)}},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}},[a("el-select",{staticClass:"type-area",attrs:{slot:"prepend"},slot:"prepend",model:{value:t.searchQuery.searchType,callback:function(e){t.$set(t.searchQuery,"searchType",e)},expression:"searchQuery.searchType"}},[a("el-option",{attrs:{label:"算法名称",value:"name"}}),a("el-option",{attrs:{label:"算法编号",value:"id"}})],1),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.search},slot:"append"})],1),a("div",{staticClass:"infinite-list-wrapper"},[a("div",{staticClass:"list"},t._l(t.list,(function(e){return a("el-card",{key:e.id,staticClass:"list-item",nativeOn:{click:function(a){return function(){return t.handleClick(e)}.apply(null,arguments)}}},[a("div",{staticClass:"item-content"},[a("div",{staticClass:"id"},[t._v(" "+t._s(e.id)+" ")]),a("div",{staticClass:"name"},[t._v(t._s(e.name))])])])})),1)])],1)}),ye=[],we={data:function(){return{list:[],inputValue:"",searchQuery:{algorithmStatus:"done",searchType:"name",searchContent:""}}},mounted:function(){},methods:{handleClick:function(t){this.$emit("clickItem",t.id)},search:function(){this.searchQuery.searchContent=this.inputValue,this.fetchData()},fetchData:function(){var t=this;Object(lt["h"])(this.searchQuery).then((function(e){t.list=e.data.data}))}},created:function(){this.fetchData()}},xe=we,_e=(a("6ff9"),Object(b["a"])(xe,ve,ye,!1,null,"1da77f14",null)),Ce=_e.exports,ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-checkbox-group",{attrs:{min:0,max:3,size:"small"},model:{value:t.checkedItems,callback:function(e){t.checkedItems=e},expression:"checkedItems"}},[a("div",{staticClass:"list-stack"},t._l(t.options,(function(e){return a("el-checkbox",{key:e.id,staticClass:"item",attrs:{label:e.id}},[a("el-card",{staticClass:"list-item"},[t._v(" "+t._s(e.name)+" ")])],1)})),1)])},De=[],Se={props:{list:{type:Array},selectedList:{type:Array}},data:function(){return{checkedItems:this.selectedList,options:this.list}},watch:{checkedItems:function(t,e){this.$emit("update:selectedList",t)}}},Oe=Se,Te=(a("fe5e"),Object(b["a"])(Oe,ke,De,!1,null,"3f1c87e4",null)),je=Te.exports,$e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},Ae=[],Ve=(a("99af"),{methods:{chartEleResizeListener:function(){var t=this,e=te()({strategy:"scroll",callOnAdd:!0});e.listenTo(this.$el,(function(){t.chart&&t.chart.resize()}))},windowResizeListener:function(){this.chart&&this.chart.resize()}},mounted:function(){window.addEventListener("resize",this.windowResizeListener),this.chartEleResizeListener()},beforeDestroy:function(){window.removeEventListener("resize",this.windowResizeListener)}}),Le={mixins:[Ve],props:{className:{type:String,default:"chartA"},width:{type:String,default:"1000px"},height:{type:String,default:"700px"},chartData:{type:Object,required:!0},strategy:{type:Array,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t,this.strategy)}},strategy:{deep:!0,handler:function(t){this.setOptions(this.chartData,t)}}},mounted:function(){var t=this;this.$nextTick((function(){console.log(t.chartData),t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=V["init"](this.$el),this.setOptions(this.chartData,this.strategy)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.time,a=t.shanghaiIndex,i=(t.strategyProfit,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]);this.chart.clear(),console.log(i),this.chart.setOption({title:{text:"最大回撤分布",left:"center"},legend:{x:"left",orient:"vertical"},tooltip:{trigger:"axis",axisPointer:{type:"line",formatter:"{value} %"}},dataZoom:[{type:"inside",start:0,end:100,zoomOnMouseWheel:!0,onDataZoom:function(t){var e=t.startValue,a=t.endValue,i=chartAData.shanghaiIndex.slice(e,a+1),n=chartAData.strategyProfit.slice(e,a+1),l=0-i[0],o=0-n[0],r=i.map((function(t){return t+l})),s=n.map((function(t){return t+o}));myChart.setOption({series:[{data:r},{data:s}]})}},{show:!0,type:"slider",top:"90%",start:50,end:100,zoomOnMouseWheel:!1}],grid:{top:"30%",left:"2%",right:"2%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:e,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisLabel:{show:!0,interval:"auto",formatter:"{value} %"},show:!0}],series:[{name:"上证指数",type:"line",data:a}].concat(Object(be["a"])(i.map((function(t,e){return{name:t.name,type:"line",data:t.strategy}}))))})}}},ze=Le,Ee=Object(b["a"])(ze,$e,Ae,!1,null,null,null),Ie=Ee.exports,Fe={components:{ChartA:Ie,PreselectedList:je,SearchList:Ce,LineChart:Bt,AlgorithmPreview:it},props:{selectedAlgorithms:{type:Array,default:function(){return[]},required:!0}},watch:{},mounted:function(){var t,e;(t=this.preselectedList).push.apply(t,Object(be["a"])(this.selectedAlgorithms)),(e=this.selectedList).push.apply(e,Object(be["a"])(this.selectedAlgorithms)),this.handleRun()},data:function(){return{dialogVisible:!1,page:2,strategyData:[],activeStep:0,dateRange:[new Date(2023,0,1),new Date(2023,4,16)],preselectedList:[],selectedList:[],chartData:{},initialCapital:1e4,algorithm:{id:"0"},showChart:!1,chartInput:{dates:[],lines:[]},resultInfos:[],pickerOptions:{disabledDate:function(t){var e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();return!(2023===e&&1===a)&&!(2023===e&&2===a)&&!(2023===e&&3===a)&&!(2023===e&&4===a)&&!(2023===e&&5===a&&i<=16)}}}},computed:{preselectedListButtonType:function(){var t=this;if("0"===this.algorithm.id)return 0;var e=this.preselectedList.findIndex((function(e){return e.id===t.algorithm.id}));return-1===e?1:2}},methods:{updateSelectedList:function(t){this.selectedList=t},handleRun:function(){var t=this;this.chartInput.lines=[],this.resultInfos=[],console.log("selectedList",this.selectedList),console.log("preselectedList",this.preselectedList),this.selectedList.forEach((function(e){var a=e.name;console.log(a),Object(lt["d"])({fileName:e.id,startdate:t.dateRange[0],enddate:t.dateRange[1],initialCash:t.initialCapital}).then((function(e){t.chartInput.dates=e.data.data.dates,t.chartData=e.data.data,t.strategyData.push({name:a,strategy:e.data.data.strategyProfit}),t.chartInput.lines.push({name:a,data:e.data.data.result}),t.resultInfos.push({name:a,yieldRate:e.data.data.yieldRate.toFixed(3),endValue:e.data.data.endValue,maximum:e.data.data.maximum.toFixed(3)})}))})),this.showChart=!0,console.log(this.strategyData)},handleOpenSelectBestDialog:function(){this.dialogVisible=!0},handleAddToPreSelected:function(){var t=this,e=this.preselectedList.findIndex((function(e){return e.id===t.algorithm.id}));-1===e&&"0"!==this.algorithm.id&&this.preselectedList.push({id:this.algorithm.id,name:this.algorithm.name})},handleRemoveFromPreSelected:function(){var t=this,e=this.preselectedList.findIndex((function(e){return e.id===t.algorithm.id}));this.preselectedList.splice(e,1)},handleClickItem:function(t){var e=this;Object(lt["f"])({id:t}).then((function(t){e.algorithm=t.data.data}))},handleShowPreselectedList:function(){this.dialogVisible=!0},handleClose:function(){this.dialogVisible=!1},handleDelete:function(t,e){this.preselectedList.splice(t,1)}}},Be=Fe,Re=(a("b96b"),Object(b["a"])(Be,ge,fe,!1,null,"400d1e92",null)),Ne=Re.exports,Pe={components:{AddDescription:gt,DoneAlgorithm:me,BackTesting:Ne},data:function(){return{algorithmData:[],selectForm:{name:"",type:""},selectedAlgorithms:[],incompleteRow:{},drawerVisible:!1,backTestDrawerVisible:!1,addDialogVisible:!1,dialogTitle:"新增算法",tableLoading:!1,isEdit:!1,page:1,pageSize:5,counts:0,isConditional:!0,previewDialogVisible:!1,previewData:{},editData:{}}},methods:{selectNames:function(){this.page=1,this.initData()},selectTypes:function(){this.page=1,this.initData()},getAlgorithmData:function(){},handleSizeChange:function(t){this.pageSize=t,this.initData()},handleCurrentChange:function(t){this.page=t,this.initData()},handleSelectionChange:function(t){if(t.length>3)return this.limitFn(t),void this.$message.warning("最多只能选择三个算法");this.selectedAlgorithms=t},addNewAlgorithm:function(){this.dialogTitle="创建算法",this.isEdit=!1,this.addDialogVisible=!0},limitFn:function(t){this.$refs.algorithmTable.toggleRowSelection(t[t.length-1],!1)},clickBackTest:function(){0!==this.selectedAlgorithms.length?this.backTestDrawerVisible=!0:this.$message.warning("请先选择算法")},handleSuccess:function(){this.addDialogVisible=!1,this.initData()},clickDone:function(t,e){this.incompleteRow=e,this.drawerVisible=!0},clickEdit:function(t,e){var a=this;console.log(e),"1"===e.type?(this.dialogTitle="编辑算法",Object(lt["f"])({id:e.id}).then((function(t){e=t.data.data,a.editData=e,a.isEdit=!0,a.addDialogVisible=!0})).catch((function(t){a.$message.error("获取算法详情失败")}))):this.$confirm("请选择是修改代码还是编辑算法","选择",{distinguishCancelAndClose:!0,confirmButtonText:"修改代码",cancelButtonText:"编辑算法"}).then((function(){a.incompleteRow=e,a.$message.warning(e.toString()),a.drawerVisible=!0})).catch((function(t){a.dialogTitle="编辑算法",Object(lt["f"])({id:e.id}).then((function(t){e=t.data.data,a.editData=e,a.isEdit=!0,a.addDialogVisible=!0})).catch((function(t){a.$message.error("获取算法详情失败")}))}))},handleDelete:function(t,e){var a=this;this.$confirm("此操作将永久删除该算法, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(lt["c"])(e.id).then((function(t){a.$message.success("删除成功"),a.initData()})).catch((function(t){a.$message.error("删除失败")}))})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},handleInfo:function(t,e){var a=this;Object(lt["f"])({id:e.id}).then((function(t){a.previewDialogVisible=!0,a.previewData=t.data.data})).catch((function(t){a.$message.error("获取算法详情失败")}))},initData:function(){var t=this;this.tableLoading=!0,Object(lt["i"])({page:this.page,pageSize:this.pageSize,name:this.selectForm.name,type:this.selectForm.type}).then((function(e){t.tableLoading=!1,t.algorithmData=e.data.data.records,t.counts=e.data.data.total})).catch((function(e){t.tableLoading=!1,t.$message.error("获取算法数据失败")}))}},mounted:function(){this.initData()}},qe=Pe,Me=(a("9401"),Object(b["a"])(qe,i,n,!1,null,"23d58224",null));e["default"]=Me.exports},"3c56":function(t,e,a){"use strict";a("0427")},"646c":function(t,e,a){},"6cbf":function(t,e,a){},"6ff9":function(t,e,a){"use strict";a("0788")},"74e8":function(t,e,a){"use strict";a("6cbf")},"8e23":function(t,e,a){},"8e61":function(t,e,a){"use strict";a("646c")},9401:function(t,e,a){"use strict";a("8e23")},"954b":function(t,e,a){},"9a62":function(t,e,a){},b96b:function(t,e,a){"use strict";a("9a62")},bef9:function(t,e,a){},c7ea:function(t,e,a){"use strict";a("edd3")},c8e5:function(t,e,a){"use strict";a("bef9")},e57a:function(t,e,a){"use strict";a.d(e,"k",(function(){return o})),a.d(e,"h",(function(){return r})),a.d(e,"f",(function(){return n})),a.d(e,"d",(function(){return p})),a.d(e,"a",(function(){return g})),a.d(e,"l",(function(){return s})),a.d(e,"i",(function(){return c})),a.d(e,"c",(function(){return u})),a.d(e,"j",(function(){return l})),a.d(e,"g",(function(){return d})),a.d(e,"e",(function(){return h})),a.d(e,"b",(function(){return m})),a.d(e,"m",(function(){return f}));var i=a("b775");function n(t){return Object(i["a"])({url:"/lwz/algorithm/get",method:"get",params:t})}function l(t){return Object(i["a"])({url:"/lwz/algorithm/all",method:"get",params:t})}var o=function(t){return Object(i["a"])({url:"/lwz/algorithm/save",method:"post",data:t})};function r(t){return Object(i["a"])({url:"/lwz/algorithm/list",method:"get",params:t})}function s(t){return Object(i["a"])({url:"/lwz/algorithm/update",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/lwz/algorithm/getAlgorithmByPage",method:"get",params:t})}function u(t){return Object(i["a"])({url:"/lwz/algorithm/deleteAlgorithmById/"+t,method:"delete"})}function d(t){return Object(i["a"])({url:"/py-api/lwz/algorithm/file/getZonghe",method:"get",params:t})}function h(t){return Object(i["a"])({url:"/py-api/lwz/algorithm/file/runZonghe",method:"get",params:t})}function p(t){return Object(i["a"])({url:"/py-api/lwz/algorithm/file/run",method:"get",params:t})}function m(t){return Object(i["a"])({url:"/py-api/lwz/algorithm/file/createZonghe",method:"post",data:t})}function g(t){return Object(i["a"])({url:"/py-api/lwz/algorithm/file/create",method:"post",data:t})}function f(t){return Object(i["a"])({url:"/py-api/lwz/algorithm/file/updateZonghe",method:"post",data:t})}},e746:function(t,e,a){"use strict";a("1252")},edd3:function(t,e,a){},f858:function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"f",(function(){return l})),a.d(e,"g",(function(){return r})),a.d(e,"h",(function(){return o})),a.d(e,"j",(function(){return s})),a.d(e,"i",(function(){return c})),a.d(e,"c",(function(){return u})),a.d(e,"k",(function(){return d})),a.d(e,"b",(function(){return h})),a.d(e,"a",(function(){return p})),a.d(e,"e",(function(){return m}));var i=a("b775");function n(t){return Object(i["a"])({url:"/hz/results/getFactorsInfo",method:"get",params:t})}function l(t){return Object(i["a"])({url:"/hz/results/getFactorsData",method:"get",params:t})}function o(t){return Object(i["a"])({url:"/hz/detail/getMin",method:"get",params:t})}function r(t){return Object(i["a"])({url:"/hz/detail/getMax",method:"get",params:t})}function s(t){return Object(i["a"])({url:"/hz/detail/getVariancePic",method:"get",params:t})}function c(t){return Object(i["a"])({url:"/hz/detail/getQuantilePic",method:"get",params:t})}function u(t){return Object(i["a"])({url:"/hz/results/getCorrelationFactors",method:"get",params:t})}function d(t){return Object(i["a"])({url:"/hz/factor/update",method:"post",data:t})}function h(t){return Object(i["a"])({url:"/hz/factor/deleteById/"+t,method:"delete"})}function p(t){return Object(i["a"])({url:"/hz/factor/add",method:"post",data:t})}function m(t){return Object(i["a"])({url:"/hz/factor/getByPage",method:"get",params:t})}},fe5e:function(t,e,a){"use strict";a("03b5")}}]);